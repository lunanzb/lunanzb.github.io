<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客">
<meta property="og:url" content="https://luna.newban.cn/page/76/index.html">
<meta property="og:site_name" content="开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://luna.newban.cn/page/76/">





  <title>开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
  
<a href="https://www.github.com/songjianzaina" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者的博客 – 全栈</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://www.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="http://code.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在CWindows应用程序中将本地db记录绑定到datagridview堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在CWindows应用程序中将本地db记录绑定到datagridview堆栈内存溢出.html" itemprop="url">c如何在CWindows应用程序中将本地db记录绑定到datagridview堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to bind local db records to datagridview in C# Windows Application



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我有一个带有本地DB（SQL Server Express）的C＃Windows应用程序。 我将SQL Server Express添加到了应用程序目录中，一切正常，可以保存到数据库，但是我发现BIN文件夹中有数据库的副本，这就是我保存的记录所在的位置。 我试图绑定一个dataGridView来查看保存的记录，代码运行没有错误，但是由于dataSet表为null，因此网格未加载数据。


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">private void BindDataGridView() &#123; try &#123; var select = &quot;SELECT DISTINCT [Country],[State],[City] FROM dbo.StaffRecord ORDER BY [Country] ASC,[State] DESC&quot;; var c = new SqlConnection(connstring); var dataAdapter = new SqlDataAdapter(select, c); var ds = new DataSet(); dataAdapter.Fill(ds); dataGridView1.ReadOnly = true; dataGridView1.DataSource = ds.Tables[0]; &#125; catch (Exception ex) &#123; MessageBox.Show(ex.Message); &#125; &#125;</span><br></pre></td></tr></table></figure>


我的连接字符串：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;add name=&quot;connection&quot; connectionString = &quot;Data Source=(localdb)\MSSQLLocalDB; Initial catalog=StaffRecord; Integrated Security=true;AttachDBFilename=|DataDirectory|\Database1.mdf;&quot; providerName=&quot;System.Data.SqlClient&quot; /&gt;</span><br></pre></td></tr></table></figure>


请，我希望能够将DataGridView绑定到BIN文件夹中的本地数据库版本，因为记录保存在此处或应用程序的根目录中。 谢谢


<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

您可以使用实体框架将数据库表映射为类。 比您可以将此类数据绑定到DataGridView。 实体框架教程 编辑： 检查是否在连接字符串中正确设置了DataDirectory 。 例


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在CVisualStudio中将MySQL数据库连接到devExpress关闭堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在CVisualStudio中将MySQL数据库连接到devExpress关闭堆栈内存溢出.html" itemprop="url">c如何在CVisualStudio中将MySQL数据库连接到devExpress关闭堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
how to connect mysql data base to devExpress in c # visual studio? [closed]



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
想改善这个问题吗？ 想改善这个问题吗？ 更新问题 ，使其成为Stack Overflow 的主题 。 2小时前关闭。


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">namespace WindowsFormsApp6 &#123; public partial class frmStd : Form &#123; public frmStd() &#123; InitializeComponent(); // This line of code is generated by Data Source Configuration Wizard **ustudentsTableAdapter2.Fill(studentsDataSet2.ustudents);** //how to add a password here???? &#125; private void simpleButton1_Click(object sender, EventArgs e) &#123; this.Close(); &#125;</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在CMake中使用动态链接库堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在CMake中使用动态链接库堆栈内存溢出.html" itemprop="url">c如何在CMake中使用动态链接库堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to use dynamic link library with CMake?



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我有以下简单的程序：


CMakeLists.txt：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.5) project(test LANGUAGES CXX) set(CMAKE_CXX_STANDARD 11) set(CMAKE_CXX_STANDARD_REQUIRED ON) LINK_DIRECTORIES($&#123;PROJECT_SOURCE_DIR&#125;) add_executable(test main.cpp) target_include_directories(test PRIVATE $&#123;PROJECT_SOURCE_DIR&#125;) target_link_libraries(test PRIVATE power.dll)</span><br></pre></td></tr></table></figure>


main.cpp：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt; #include &quot;power.h&quot; using namespace std; int main() &#123; cout &lt;&lt; &quot;Hello World!&quot; &lt;&lt; endl; power(4.); return 0; &#125;</span><br></pre></td></tr></table></figure>


power.h：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#ifndef POWER_H #define POWER_H double power(double number) noexcept; #endif // POWER_H</span><br></pre></td></tr></table></figure>


实施power.h是一个.dll命名power.dll 。 如果我使用MinGW 7.3.0 X64编译该项目，则说明：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: undefined reference to `power(double)&apos;</span><br></pre></td></tr></table></figure>


如果我使用MSVC 2017 X64进行编译，则会显示：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">error: LNK1104: cannot open file &apos;power.lib&apos;</span><br></pre></td></tr></table></figure>


这两个错误都表明链接器无法检测到power.dll 。 我进行了很多搜索，但是没有一种解决方案适合我！ 有人可以帮忙吗？ 提前致谢！


<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

Windows中的动态链接要求使用关键字__declspec声明外部可见的符号。 您的标头“ power.h”应修改为： 在使用CMake构建DLL power.dll的项目中，应定义符号 BUILD_DLL： 那么它应该在MSVC编译器时生成power.lib文件，在使用MINGW时生成power.a文件。 不要在使用DLL的项目中定义BUILD_DLL，它应该可以工作。


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> #ifndef POWER_H</span><br><span class="line">#define POWER_H</span><br><span class="line"></span><br><span class="line">#if defined(__WIN32__) &amp;&amp; !defined(__CYGWIN__)</span><br><span class="line">#  if (defined(_MSC_VER) || defined(__MINGW32__)) &amp;&amp; defined(BUILD_DLL)</span><br><span class="line">#    define POWERAPI __declspec(dllexport)</span><br><span class="line">#  elif (defined(_MSC_VER) || defined(__MINGW32__))</span><br><span class="line">#    define POWERAPI __declspec(dllimport)</span><br><span class="line">#  endif</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">POWERAPI double power(double number) noexcept;</span><br><span class="line"></span><br><span class="line">#endif // POWER_H</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在CMakeSuperbuild中查找dllso文件堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在CMakeSuperbuild中查找dllso文件堆栈内存溢出.html" itemprop="url">c如何在CMakeSuperbuild中查找dllso文件堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to find dll/so files in a CMake Superbuild



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我已经使用CMake Superbuild设置了跨平台软件项目，其中使用ExternalProject_Add添加和构建了依赖项。 该项目可以在Windows和Linux上编译，但是当我尝试运行生成的可执行程序时，它无法工作，因为它找不到依赖项的dll / so文件。 这并不奇怪，因为外部依赖项的dll / so文件没有放置在输出目录中（下面的可视化中的bin ）。


使用ExternalProject_Add添加的依赖项之一是OpenCV。 通过超级版本构建OpenCv之后，我可以使用find_package(OpenCv)找到它。 然后，我可以使用变量OpenCV_LIBS和OpenCV_INCLUDE_DIRS来引用库并包含文件。 但是，似乎没有变量可以告诉我dll / so文件的位置。


更复杂的是，在Linux和Windows上构建时，dll / so文件似乎位于不同的文件夹中。 这是我的项目结构的简化可视化。 Build/bin是我的项目生成的可执行程序和dll / so文件所在的位置。


在Windows上，OpenCV dlls最终位于external_projects文件夹中： external_projects/OpenCV-build/bin/Debug ，在Linux上，.so文件最终位于external_projects/OpenCV-build/lib 。


我想我可以为每个外部项目检查dll / so文件在哪里结束，并通过使用GLOB和if(WIN32)等的组合来复制它们。但这似乎并不理想。


在CMake超级构建中执行此操作的正确方法是什么，如何使dll / so文件可用，以便可执行程序可以找到它们？


更新说明：CMake文件夹中有一个CMakeLists.txt文件。 该脚本调用Superbuild.cmake，它（有些简化）如下所示：


ExternalProject_Add(OpenCV ...) # Downloads source from github ExternalProject_Add(libtiff...)# Downloads source from gitlab ... ExternalProject_Add(myMainProject SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/.. # Adds CMakeLists.txt in root project folder DEPENDS ${myMainProjectDependencies} # OpenCV and libtiff )这将导致在构建myMainProject之前先构建依赖项。


<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：1</strong></p>

您可以使用CMake设置安装目标，并将其配置为将二进制文件和头文件放置在正确的位置： 现在，您可以使用ninja install类的东西（假设您使用Ninja作为CMake的生成器）将二进制文件，导入库和标头安装到CMAKE_INSTALL_PREFIX路径。


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"> # bin</span><br><span class="line">if ($&#123;BUILD_SHARED_LIBS&#125;)</span><br><span class="line">    install(</span><br><span class="line">        FILES</span><br><span class="line">            $&lt;TARGET_FILE:my_target&gt;</span><br><span class="line">        DESTINATION</span><br><span class="line">            bin</span><br><span class="line">        COMPONENT</span><br><span class="line">            runtime</span><br><span class="line">    )</span><br><span class="line">endif()</span><br><span class="line"></span><br><span class="line"># lib</span><br><span class="line">install(</span><br><span class="line">    TARGETS</span><br><span class="line">        my_target</span><br><span class="line">    DESTINATION</span><br><span class="line">        lib</span><br><span class="line">    COMPONENT</span><br><span class="line">        devel</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># include</span><br><span class="line">install(</span><br><span class="line">    FILES</span><br><span class="line">        Header1.hpp</span><br><span class="line">        Header2.hpp</span><br><span class="line">    DESTINATION</span><br><span class="line">        include/my_target</span><br><span class="line">    COMPONENT</span><br><span class="line">        devel</span><br><span class="line">)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在Azure函数中动态更改对API的Ajax调用堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在Azure函数中动态更改对API的Ajax调用堆栈内存溢出.html" itemprop="url">c如何在Azure函数中动态更改对API的Ajax调用堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to dynamically change an ajax call to an api in azure functions?



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我正在遍历数组，并且foreach项正在对azure函数进行api调用。


我需要将“ ticketKey”传递给azure，然后将ticketkey附加到我要求azure进行的呼叫中。


尝试在ajax调用的请求标头中发送票证密钥，但不确定如何在azure代码中接收票证密钥并将其附加到我从那里进行的调用中。


需要明确的是，ajax请求转到了azure函数，然后该函数运行您在初始ajax调用下面看到的代码。


我需要以某种方式获取ajax调用(ticketKey) ，并将其附加到azure函数调用中


我的Ajax电话：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var GetTicketInfo = myArray.forEach(function(ticketKey)&#123; $.ajax (&#123; type: &quot;GET&quot;, url: &quot;https://blahblah.azurewebsites.net/api/blahblah&quot;, dataType: &apos;json&apos;, headers : &#123;&quot;ticketKey&quot;: ticketKey&#125;, async: false, success: function (res)&#123; console.log(res); &#125; &#125;); &#125;);</span><br></pre></td></tr></table></figure>


我的Azure函数代码：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static class azureApicall &#123; [FunctionName(&quot;AzureCall&quot;)] public static async Task&lt;IActionResult&gt; Run( [HttpTrigger(AuthorizationLevel.Function, &quot;get&quot;, &quot;post&quot;, Route = null)] HttpRequest req, ILogger log) &#123; log.LogInformation(&quot;C# HTTP trigger function processed a request.&quot;); var client = new HttpClient(); var user = &quot;blah&quot;; var pass = &quot;blah&quot;; var pair = $&quot;&#123;user&#125;:&#123;pass&#125;&quot;; var bytes = Encoding.ASCII.GetBytes(pair); var base64 = Convert.ToBase64String(bytes); var authValue = $&quot;Basic &#123;base64&#125;&quot;; client.DefaultRequestHeaders.Authorization = AuthenticationHeaderValue.Parse(authValue); client.DefaultRequestHeaders.Accept.Add(MediaTypeWithQualityHeaderValue.Parse(&quot;application/json&quot;)); var content = await client.GetStringAsync(&quot;https://blah.com/rest/api/2/issue/&#123;ticketKey&#125;&quot;); return (ActionResult)new OkObjectResult(content); &#125; &#125;</span><br></pre></td></tr></table></figure>


我调试时的错误消息：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[08/11/2019 11:08:02] Host lock lease acquired by instance ID &apos;0000000000000000000000000359A6B5&apos;. [08/11/2019 11:08:02] Executing HTTP request: &#123; [08/11/2019 11:08:02] &quot;requestId&quot;: &quot;4739380b-c445-4bb9-8bbc-dd27e1682a63&quot;, [08/11/2019 11:08:02] &quot;method&quot;: &quot;POST&quot;, [08/11/2019 11:08:02] &quot;uri&quot;: &quot;/api/ConfluenceWidgetTeamCity&quot; [08/11/2019 11:08:02] &#125; [08/11/2019 11:08:03] Executing &apos;ConfluenceWidgetTeamCity&apos; (Reason=&apos;This function was programmatically called via the host APIs.&apos;, Id=72e4c354-299d-4105-9e3d-56a119c5cd6a) [08/11/2019 11:08:03] C# HTTP trigger function processed a request. [08/11/2019 11:08:03] Executed &apos;ConfluenceWidgetTeamCity&apos; (Succeeded, Id=72e4c354-299d-4105-9e3d-56a119c5cd6a) [08/11/2019 11:08:03] Executed HTTP request: &#123; [08/11/2019 11:08:03] &quot;requestId&quot;: &quot;4739380b-c445-4bb9-8bbc-dd27e1682a63&quot;, [08/11/2019 11:08:03] &quot;method&quot;: &quot;POST&quot;, [08/11/2019 11:08:03] &quot;uri&quot;: &quot;/api/ConfluenceWidgetTeamCity&quot;, [08/11/2019 11:08:03] &quot;identities&quot;: [ [08/11/2019 11:08:03] &#123; [08/11/2019 11:08:03] &quot;type&quot;: &quot;WebJobsAuthLevel&quot;, [08/11/2019 11:08:03] &quot;level&quot;: &quot;Admin&quot; [08/11/2019 11:08:03] &#125; [08/11/2019 11:08:03] ], [08/11/2019 11:08:03] &quot;status&quot;: 400, [08/11/2019 11:08:03] &quot;duration&quot;: 579 [08/11/2019 11:08:03] &#125;</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0 更新-添加图像</strong></p>

您可以使用HttpRequest中的Headers来获取您的ticketKey。 例 然后，您可以在请求中使用ticketKey变量的值。 邮递员的最爱 如您所见，我将ticketKey标头值与称为dummy值一起传递 这是VS断点


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> req.Headers.TryGetValue(&quot;ticketKey&quot;, out var result);</span><br><span class="line">var ticketKey= result.FirstOrDefault();</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在AspNetCore3中正确显示从xml文件获取的html到页面堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在AspNetCore3中正确显示从xml文件获取的html到页面堆栈内存溢出.html" itemprop="url">c如何在AspNetCore3中正确显示从xml文件获取的html到页面堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to display html taken from xml file to page properly in Asp.Net Core 3



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我将常见问题解答移动到azure存储中的xml文件中，因为它们很少更改，我不想每次都访问它们。


我的结构如下


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; &lt;Faqs&gt; &lt;Faq question=&quot;Welcome to our updated FAQ!&quot; number=&quot;0&quot; category=&quot;welcome&quot; &gt; &lt;Answer&gt; &lt;p&gt; We have updated a lot of the content on our site, including this new FAQ page. We cannot possibly think of every question you night have so please feel free to ask us to put your questions and the answers on this page. You can do so by clicking the link below and sending us a contact form with your question(s) &lt;/p&gt; &lt;/Answer&gt; &lt;ImageUrl value=&quot;&quot;/&gt; &lt;/Faq&gt; &lt;Faq question=&quot;What benefits does the product provide?&quot; number=&quot;1&quot; category=&quot;product-information&quot; &gt; &lt;Answer&gt; &lt;p&gt; A decrease in fuel consumption, substantial improvement of DPF&apos;s and an overall increase in fuel burn efficiency translate to substantial emission reductions as well. The emission benefits are achieved due to a &lt;ul&gt; &lt;li&gt;More Complete Combustion&lt;/li&gt; &lt;li&gt;Lower Operating Temperature&lt;/li&gt; &lt;li&gt;Lower Overall Engine Pressure&lt;/li&gt; &lt;/ul&gt; These factors account for the &lt;strong&gt;reduction of unburned&lt;/strong&gt; carbon being released during the exhaust stroke of the engine and/or back into the oil as soot. &lt;/p&gt; &lt;div&gt; &lt;img alt=&quot;2strokediesel&quot; src=&quot;~/images/2strokediesel.png&quot; /&gt; &lt;span class=&quot;image-caption&quot;&gt;2-stroke diesel engine with the product catalytic coating area shown (orange shading)&lt;/span&gt; &lt;/div&gt; &lt;/Answer&gt; &lt;ImageUrl value=&quot;&quot;/&gt; &lt;/Faq&gt; ...rest removed</span><br></pre></td></tr></table></figure>


我以为我会存储整个html而不是文本，以便于检索和创建页面，但是我的代码没有将html显示为存储在xml文件中的html。


要么这是不可行的（很少是这种情况），要么是通过某种方式对返回的值进行编码/解码，以便其正确显示。


任何帮助表示赞赏。


这是页面一部分的剃须刀


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Product Information --&gt; &lt;h2 class=&quot;h3 font-w600 push-30-t push&quot;&gt;@ti.ToTitleCase(Model.ProductInformationFaqs[0].Category)&lt;/h2&gt; @for (var i = 0; i &lt; Model.ProductInformationFaqs.Count; i++) &#123; var identifier = $&quot;#faq1_q&#123;i + 1&#125;&quot;; &lt;div id=&quot;faq1&quot; class=&quot;panel-group&quot;&gt; &lt;div class=&quot;panel panel-default&quot;&gt; &lt;div class=&quot;panel-heading&quot;&gt; &lt;h3 class=&quot;panel-title&quot;&gt; &lt;a class=&quot;accordion-toggle&quot; data-toggle=&quot;collapse&quot; data-parent=&quot;#faq1&quot; href=&quot;@identifier&quot;&gt;@Model.ProductInformationFaqs[i].Question&lt;/a&gt; &lt;/h3&gt; &lt;/div&gt; @if (i == 0) &#123; &lt;div id=&quot;@identifier.Replace(&quot;#&quot;,&quot;&quot;)&quot; class=&quot;panel-collapse collapse in&quot;&gt; &lt;div class=&quot;panel-body&quot;&gt; @Html.Raw(Model.ProductInformationFaqs[i].Answer) &lt;/div&gt; &lt;/div&gt; &#125; else &#123; &lt;div id=&quot;@identifier.Replace(&quot;#&quot;,&quot;&quot;)&quot; class=&quot;panel-collapse collapse&quot;&gt; &lt;div class=&quot;panel-body&quot;&gt; @Html.Raw(Model.ProductInformationFaqs[i].Answer) &lt;/div&gt; &lt;/div&gt; &#125; &lt;/div&gt; &lt;/div&gt; &#125; &lt;!-- END Product Information --&gt;</span><br></pre></td></tr></table></figure>


为了完整性


这是xml文件检索代码，以防万一我应该先在这里处理检索到的值。


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public List&lt;FaqDto&gt; GetFaqItems() &#123; var query = _doc.Descendants(&quot;Faq&quot;) .Select(x =&gt; new FaqDto() &#123; Category = x.Attribute(&quot;category&quot;)?.Value, Question = x.Attribute(&quot;question&quot;)?.Value, FaqNumber = Convert.ToInt16(x.Attribute(&quot;number&quot;)?.Value), Answer = x.Element(&quot;Answer&quot;)?.Value, ImageUrl = x.Element(&quot;ImageUrl&quot;)?.Attribute(&quot;value&quot;)?.Value &#125;).ToList(); return query; &#125; For example:</span><br></pre></td></tr></table></figure>


xml中的FAQ＃1应该显示一个看起来像这样的无序列表


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt; A decrease in fuel consumption, substantial improvement of DPF&apos;s and an overall increase in fuel burn efficiency translate to substantial emission reductions as well. The emission benefits are achieved due to a &lt;ul&gt; &lt;li&gt;More Complete Combustion&lt;/li&gt; &lt;li&gt;Lower Operating Temperature&lt;/li&gt; &lt;li&gt;Lower Overall Engine Pressure&lt;/li&gt; &lt;/ul&gt; These factors accounts for the &lt;strong&gt;reduction of unburned&lt;/strong&gt; carbon being released during the exhaust stroke of the engine and/or back into the oil as soot. &lt;/p&gt;</span><br></pre></td></tr></table></figure>


但看起来像这样


<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

如果要从attribute的xml文件元素中检索html，则最好将html包装在CDATA元素中。 您的xml应该看起来像这样，然后它将在Asp.Net Razor或MVC应用程序中使用Html.Raw（此处为您的字符串）进行检索并正确显示 样本xml文件


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> &lt;Faqs&gt;</span><br><span class="line">  &lt;Faq question=&quot;Welcome to our updated FAQ!&quot; number=&quot;0&quot; category=&quot;welcome&quot; &gt; </span><br><span class="line">  &lt;Answer&gt;  </span><br><span class="line">    &lt;![CDATA[&lt;html&gt;</span><br><span class="line">  &lt;p&gt;We have updated a lot of the content on our site, including this new FAQ page. We cannot possibly think of every question you night have so please feel free to ask us to put your questions and the answers on this page. You can do so by clicking the button below and sending us a contact form with your question(s)  </span><br><span class="line">  &lt;/p&gt;</span><br><span class="line">      &lt;/html&gt;</span><br><span class="line">   ]]&gt;                                           </span><br><span class="line">  &lt;/Answer&gt;</span><br><span class="line">  &lt;ImageUrl value=&quot;&quot;/&gt;</span><br><span class="line">  &lt;/Faq&gt;</span><br><span class="line">&lt;/Faqs&gt;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在ASPNet中管理多个会话堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在ASPNet中管理多个会话堆栈内存溢出.html" itemprop="url">c如何在ASPNet中管理多个会话堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to manage multiple sessions in ASP .Net



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我正在使用ASP .net mvc开发一个Web应用程序，其中我使用会话来存储用户的信息。


但是当我使用profil A登录然后在带有profil B的单独浏览器中登录时，我遇到了一种非常疲惫的行为，我注意到profil A被替换为B.我不知道这是否是一个常见问题，但我我正考虑在数据库中创建一个新表来存储会话。


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protected void ASPxBtnLogIn_Click(object sender, EventArgs e) &#123; int codeRetour = IsUserOK(ASPxTxtBxLogin.Text, ASPxTxtBoxPssW.Text, null); if (codeRetour == CODE_LDAP_AUTH || codeRetour == CODE_INTERNE_AUTH) &#123; //OK Session[&quot;UserConnected&quot;] = ASPxTxtBxLogin.Text; Session.Remove(&quot;LogOutAction&quot;); List&lt;string&gt; myLst = InfoUser(ASPxTxtBxLogin.Text, null); Session[&quot;UserCode&quot;] = myLst[0]; Helpers.UserID = Session[&quot;UserCode&quot;].ToString(); Session[&quot;UserCulture&quot;] = myLst[1]; Session[&quot;ApplicationStart&quot;] = true; InitNbLigneModule(); Response.Redirect(@&quot;~\Ibiprod.aspx&quot;); &#125; this.ASPxlblErreur.Text = Helpers.LibelleCodeRetour(codeRetour); &#125;</span><br></pre></td></tr></table></figure>


我想知道如何使用不同角色的多用户可以同时连接到服务器并且没有这个问题。


先感谢您


<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在ASPNET中发送PUT和DELETE表单堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在ASPNET中发送PUT和DELETE表单堆栈内存溢出.html" itemprop="url">c如何在ASPNET中发送PUT和DELETE表单堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to send PUT and DELETE forms in ASP.NET?



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我已经为这个问题苦苦挣扎了一段时间，阅读了很多类似的文章：


剃刀页面AJAX表单


MSDN ASP.NET Core RESTfull Web API


而且没有掌握正确的方法。


在我当前的项目中，我有：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=&quot;delete&quot; asp-route=&quot;ProductCatalogSingle&quot;&gt; &lt;input hidden type=&quot;number&quot; name=&quot;Id&quot; value=&quot;@Model.Id&quot; /&gt; &lt;input type=&quot;submit&quot; class=&quot;btn btn-dark&quot; value=&quot;Delete&quot; /&gt; &lt;/form&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// Controller have [Route(&quot;product-catalog&quot;)] attribute [HttpDelete(&quot;product&quot;, Name = &quot;ProductCatalogSingle&quot;)] public async Task&lt;IActionResult&gt; DeleteSingleItem(int id) &#123; // business-logic part responsible for data managment await logic.RemoveDataModelAsync(new ProductCatalog &#123; Id = id &#125;); return RedirectToRoute(&quot;ProductCatalogAll&quot;); &#125; // other action with same route, but different method [HttpGet(&quot;product&quot;, Name = &quot;ProductCatalogSingle&quot;)] public async Task&lt;IActionResult&gt; SingleItem(int id) &#123;...&#125;</span><br></pre></td></tr></table></figure>


在默认设置中，它不起作用-而是加载Get操作。


所以我尝试了很多事情：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@section scripts&#123; &lt;script&gt; document.forms[0].onsubmit = () =&gt; &#123; let formData = new FormData(document.forms[0]); fetch(url, &#123; method: &quot;DELETE&quot;, body: new URLSearchParams(formData) &#125;) .then(() =&gt; &#123; alert(&apos;Deleted using Fetch&apos;); &#125;); return true; &#125;; &lt;/script&gt;</span><br></pre></td></tr></table></figure>


我收到警报通知，但未发送请求。


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@section scripts&#123; &lt;script src=&quot;~/lib/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.js&quot;&gt;&lt;/script&gt; &#125; &lt;form method=&quot;delete&quot; asp-route=&quot;ProductCatalogSingle&quot; data-ajax=&quot;true&quot; data-ajax-method=&quot;delete&quot;&gt; &lt;input hidden type=&quot;number&quot; name=&quot;productId&quot; value=&quot;@item.ProductId&quot; /&gt; &lt;input type=&quot;submit&quot; class=&quot;btn btn-dark&quot; value=&quot;Delete&quot; /&gt; &lt;/form&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@section scripts&#123; &lt;script&gt; $(function () &#123; $(&apos;#submit&apos;).on(&apos;click&apos;, function (evt) &#123; evt.preventDefault(); $.ajax(&#123; type: &quot;DELETE&quot;, url: &apos;/product-catalog/product?id=4001&apos; &#125;); &#125;); &#125;); &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;add name=&quot;ExtensionlessUrl-Integrated-4.0&quot; ... verb=&quot;GET,HEAD,POST,DEBUG,PUT,DELETE&quot;</span><br></pre></td></tr></table></figure>


这些都不起作用。


<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何在ASPNETMVC中从隐藏表单输入到数据库MySQL中输入DateTimeNow堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何在ASPNETMVC中从隐藏表单输入到数据库MySQL中输入DateTimeNow堆栈内存溢出.html" itemprop="url">c如何在ASPNETMVC中从隐藏表单输入到数据库MySQL中输入DateTimeNow堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to input DateTime Now in ASP.NET MVC from the hidden form input to database MySQL?



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我现在想输入日期时间来记录添加项目的时间。 我目前使用具有隐藏类型的输入表单将datetime插入数据库表列，但是失败。 如何现在以yyyy-mm-dd hh：mm：ss时间格式实时输入日期时间24小时到数据库中？例如2019-10-23 16:30:49。 我在MySql数据库中使用ASP.NET MVC。 谢谢


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;form class=&quot;form-horizontal&quot; method=&quot;post&quot; action=&quot;CreateItem&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;NameItem&quot;&gt; &lt;input type=&quot;hidden&quot; class=&quot;form-control&quot; name=&quot;AddTime&quot; value=&quot;DateTimeNow&quot;&gt; &lt;/form&gt;</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：1</strong></p>

不建议从客户端添加日期时间，应在服务器端添加日期时间。因此，在将记录插入数据库之前，将DateTime.Now分配给后端中的对象 为什么不应该使用客户端创建日期时间？ 假设用户尝试从具有不同时区的不同国家/地区访问应用程序，则日期时间在数据库中将不准确，因此，当尝试根据日期时间顺序生成报告或检查任何内容时，将导致混乱。 所以解决方案是将datetime添加到类对象之前，如下所示插入数据库


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[HttpPost]</span><br><span class="line">public async Task&lt;IActionResult&gt; UpdateMethod([FromBody] MyClass model)</span><br><span class="line">mode.CreationDate =  DateTime.Now;</span><br><span class="line">//then insert record to database</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c如何向XML添加特殊标签堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c如何向XML添加特殊标签堆栈内存溢出.html" itemprop="url">c如何向XML添加特殊标签堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-31T00:00:00+00:00">
                2020-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
How to add special tags to XML



<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
由于我曾经记录过我的库和C/C++文件，因此我正在尝试使doxygen适用于C# 。 为了与环境保持一致，我想制作自定义XML标签，例如：


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Copyright&gt; Copyright(c) to production firm all rights are reserved 2019 &lt;/Copyright&gt;</span><br></pre></td></tr></table></figure>


然后它应该使用C / C ++标记输出类似于\\ copyright的输出。 同样，有关文件的一些基本信息也已记录在案……就像为C#文件应用相同的C/C++布局一样。 我探索了ALIASES之类的功能，但似乎不适用于我，或者我缺少某些东西。 而且，似乎doxygen不会使用包含文档的文件来干扰自己与文档的匹配，而是会使用从名称空间（包）一直到类的本地成员的树。


<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../75/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../75/">75</a><span class="page-number current">76</span><a class="page-number" href="../77/">77</a><span class="space">&hellip;</span><a class="page-number" href="../173/">173</a><a class="extend next" rel="next" href="../77/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="http://code.newban.cn/archives/">
              
                  <span class="site-state-item-count">1724</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a rel="external nofollow" class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a rel="external nofollow" class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    
      <style>
        a.gitment-editor-footer-tip { display: none; }
        .gitment-container.gitment-footer-container { display: none; }
      </style>
    

    







  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
