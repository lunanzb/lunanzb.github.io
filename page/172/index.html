<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="开发者博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="开发者博客">
<meta property="og:url" content="https://luna.newban.cn/page/172/index.html">
<meta property="og:site_name" content="开发者博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="开发者博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->



  <link rel="canonical" href="https://luna.newban.cn/page/172/">





  <title>开发者博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
  
<a href="https://www.github.com/songjianzaina" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">开发者博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">开发者的博客 – 全栈</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://www.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="http://code.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../algorithm在数组末尾添加新数据点不是一个坏主意吗堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../algorithm在数组末尾添加新数据点不是一个坏主意吗堆栈内存溢出.html" itemprop="url">algorithm在数组末尾添加新数据点不是一个坏主意吗堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
Is adding the new data point not at the end of array a bad idea?


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
这涉及设计决策。 一位访调员要求我假设有100个数据点，并且每隔0.1、0.3或0.5或1秒钟就会有新数据点出现（并提供给程序），以写出一些数据图表。 （将来可能会改变，我认为普通网络浏览器的最小粒度为0.03秒）。

我开始考虑将新数据点添加到数组中的第N个位置。 例如，在数组条目36处添加数据，然后将数据从第37绘制到第99，然后从0绘制到第36。 下次，将数据添加到数组条目37中，并将数据从38号绘制到99号，然后从0号绘制到37号。

这样，我们不需要“取消移位”（移出）条目0处的数据，因此无需将条目1向前移至99位，然后在条目99处添加新数据点，然后绘制数据条目0至99。

出于某种原因，面试官大为皱眉，说道：“我们为什么要这么做？将99个数据转移过来并不繁重。” 我说过，如果将来要绘制500或1000个数据点，我们可能希望避免每次输入新数据点时将数据移位500或1000次。

他提到“让我们无论如何都要转移它们”。

转移数据实际上不是问题或担忧吗？ 如果在屏幕上有10或15个这样的小部件，应用程序或网页怎么办，以监视15种数据类型，我们可能要避免不断移动15,000个数据条目。

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：1</strong></p>

我天真地尝试将n个画布加载到页面，并将绘制所需的时间与移动数组所花费的时间进行了比较。 tldr：无论使用哪种方法移动点，该方法与绘制点所需的时间都可以忽略不计。 （〜3％） 我只在带有休闲js的ff70中运行代码。 （例如，即使我仅存储浮动对象，即使可以进行优化，我也要存储一组对象） 有两种措施：推送和刷新。 以下三种推入方法：推入（Array.prototype。（shift | push），拖尾到队列（并移动头部）或nopole的方法 我每隔10ms绘制一次push方法中的时间。 在图片顶部，花费了累计时间。 一旦运行达到100点，我就会停止，然后重新加载页面以进行另一次运行。 y轴在所有行程中都相同 推平均：（838 + 886 + 864）/ 3 = 862ms 推平均（625 + 760 + 825）/ 3 = 736ms 刷新平均：（40554 + 39934 + 40915 + 39194 + 39264 + 30480）/ 6 = 38390ms 推平均：（792 + 861 + 871）/ 3 = 841ms 请注意，对于一个示例：（625/30480），我们似乎已经从一些愿意工作的CPU中受益。 因此，移位方法变得更加无关紧要。 很难确定哪种方法更好，因为每种方法的样本干旱少，这很可能是cpu整体工作量的问题，而不是页面本身的问题 重现

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let timerPush = 0 let timerRefresh = 0 class Canvas &#123; constructor (f, el, period) &#123; this.w = 300 this.h = 300 this.points = [] const canvas = document.createElement(&apos;canvas&apos;) canvas.style.cssText = &apos;background:#eeeeee; margin:10px;&apos; canvas.width = this.w canvas.height = this.h this.ctx = canvas.getContext(&apos;2d&apos;) this.ctx.transform(1, 0, 0, -1, 0, this.h / 2) this.ctx.lineWidth = 1 this.dw = this.w / this.MAX_POINTS this.dh = this.h / 2 el.appendChild(canvas) let x = 0 this.timer = setInterval(_ =&gt; &#123; x += period this.push(&#123; x, y: f(x) &#125;) this.refresh() &#125;, period * 1000) &#125; refresh () &#123; const now = performance.now() this.ctx.clearRect(0, -this.h / 2, this.w, this.h) this.ctx.beginPath() this._plot() this.ctx.stroke() this.ctx.closePath() timerRefresh += performance.now() - now &#125; push (p) &#123; const now = performance.now() this._push(p) timerPush += performance.now() - now &#125; _plot () &#123; if (!this.points.length) &#123; return &#125; this.ctx.moveTo(0 * this.dw, this.points[0].y * this.dh) for (let i = 1; i &lt; this.points.length; ++i) &#123; const p = this.points[i] this.ctx.lineTo(i * this.dw, py * this.dh) &#125; &#125; _push (p) &#123; if (this.points.length == this.MAX_POINTS) &#123; this.points.shift() &#125; this.points.push(p) &#125; MAX_POINTS = 100 &#125; class CanvasQueue extends Canvas &#123; constructor () &#123; super(...arguments) this.tail = &#123;&#125; this.head = this.tail this.n = 0 &#125; _plot () &#123; if (!this.head.next.p) return let node = this.head.next this.ctx.moveTo(0 * this.dw, node.py * this.dh) let i = 1 node = node.next while (node) &#123; this.ctx.lineTo(i * this.dw, node.py * this.dh) ++i node = node.next &#125; &#125; _push (p) &#123; if (this.n === this.MAX_POINTS) &#123; this.head = this.head.next &#125; else &#123; this.n++ &#125; const node = &#123; p &#125; this.tail.next = node this.tail = node &#125; &#125; class CanvasNopole extends Canvas &#123; constructor () &#123; super(...arguments) this.start = 0 &#125; _plot () &#123; if (!this.points.length) &#123; return &#125; const s = this.start let z = 1 let startBack = 0 if (this.points[s])&#123; this.ctx.moveTo(0 * this.dw, this.points[s].y * this.dh) for (let i = s+1; i &lt; this.points.length; ++i) &#123; const p = this.points[i] this.ctx.lineTo(z++ * this.dw, py * this.dh) &#125; &#125;else&#123; this.ctx.moveTo(0 * this.dw, this.points[0].y * this.dh) startBack = 1 &#125; for (let i = startBack; i &lt; s; ++i) &#123; const p = this.points[i] this.ctx.lineTo(z++ * this.dw, py * this.dh) &#125; &#125; _push (p) &#123; this.points[this.start] = p this.start = (this.start + 1) % this.MAX_POINTS &#125; &#125; class CanvasSummary extends Canvas &#123; constructor () &#123; super(...arguments) this.ctx.resetTransform() this.ctx.transform(1, 0, 0, -1, 0, this.h) // we know beforehand that timer should not grow bigger const deltaTimer = 50 this.dh = this.h / deltaTimer this.old = timerPush &#125; refresh () &#123; this.ctx.clearRect(0, 0, this.w, this.h) this.ctx.beginPath() this.ctx.resetTransform() this.ctx.fillText(`push: $&#123;timerPush&#125; plot: $&#123;timerRefresh&#125;`, 5, 20) this.ctx.transform(1, 0, 0, -1, 0, this.h) this._plot() this.ctx.stroke() this.ctx.closePath() &#125; push (p) &#123; this._push(p) &#125; &#125; function run () &#123; const $summary = document.querySelector(&apos;.summary&apos;) const $bench = document.querySelector(&apos;.bench&apos;) const cs = new CanvasSummary(x =&gt; &#123; if (cs.points.length === cs.MAX_POINTS) &#123; clearInterval(cs.timer) &#125; const y = timerPush - cs.old cs.old = timerPush return y &#125;, $summary, 1) //const canvas = Array(30).fill(0).map(x =&gt; new Canvas(Math.sin, $bench, 0.01)) //const canvas = Array(30).fill(0).map(x =&gt; new CanvasQueue(Math.sin, $bench, 0.01)) const canvas = Array(30).fill(0).map(x =&gt; new CanvasNopole(Math.sin, $bench, 0.01)) &#125; run()</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../c实例化抽象基类的静态方法中的几个派生类取决于参数中的任何一个堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../c实例化抽象基类的静态方法中的几个派生类取决于参数中的任何一个堆栈内存溢出.html" itemprop="url">c实例化抽象基类的静态方法中的几个派生类取决于参数中的任何一个堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
Instantiate any one of several derived classes (depending on an argument) within a static method of the abstract base class


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我一直在尝试寻找一种优雅的方法来避免在所有派生类中重复代码。 在这一点上，我不确定最好的处理方法。

我想在基类中编写一个方法，该方法将实例化和使用其任何派生类，而在编写新的派生类时不必编辑该方法。

我尝试学习/使用通用方法，但开始认为我可能会为此应用程序陷入困境。 我知道使用反射可能会很昂贵，并且由于此方法旨在处理成百上千个Element，因此似乎是个坏主意。

现在我正在考虑尝试以某种方式将类本身作为参数传递……也许。 对我来说，这也不是很正确。

我愿意进行研究，但是很乐意为我指明正确的方向。

这是我所拥有的简要版本...

基类：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public abstract class Element &#123; public string ElementName &#123; get; &#125; public List&lt;string&gt; BadParameters &#123; get; set; &#125; = new List&lt;string&gt;(); //Constructor public Element(string name) &#123; ElementName = name; &#125; //The method in question--- public static List&lt;string&gt; GetBadParameters(//derived class to instantiate) &#123; var elem = new //derived class(); return elem.BadParameters; &#125; &#125;</span><br></pre></td></tr></table></figure>


派生类1：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class Wall : Element &#123; public double Length &#123; get; set; &#125; public bool LoadBearing &#123; get; set; &#125; //Constructor public Wall(string name): base(name) &#123; SetBadParameters(); &#125; public void SetBadParameters() &#123; BadParameters = //A wall specific way of setting bad parameters &#125; &#125;</span><br></pre></td></tr></table></figure>


派生类2：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class Floor : Element &#123; public double Area &#123; get; set; &#125; public double Slope &#123; get; set; &#125; //Constructor public Floor(string name): base(name) &#123; SetBadParameters(); &#125; public void SetBadParameters() &#123; BadParameters = //A floor specific way of setting bad parameters &#125; &#125;</span><br></pre></td></tr></table></figure>


实现方式：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class Implementation &#123; public List&lt;string&gt; GetAllBadElementParameters() &#123; List&lt;string&gt; output = new List&lt;string&gt;; List&lt;string&gt; badWalls = GetBadParameters(//Wall class) List&lt;string&gt; badFloors = GetBadParameters(//Floor class) output = output.AddRange(badWalls).AddRange(badFloors); return output; &#125; &#125;</span><br></pre></td></tr></table></figure>


编辑-要澄清：

实际内容

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public List&lt;string&gt; BadParameters</span><br></pre></td></tr></table></figure>


没关系。 不好的参数，如何以及为什么不好是无关紧要的。

我要完成的工作是避免在派生类中定义方法“ GetBadParameters（）”，因为该方法对于所有派生类都是完全相同的。

只是从一个派生类到另一个派生类的“ BadParameter”基类属性的填充。

编辑2-我在基类中的通用方法的尝试：

我知道这行不通，但可以传达我想发生的事情。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static List&lt;string&gt; GetAllBadParameters&lt;T&gt;(List&lt;string&gt; names) where T : ANY DERIVED CLASS, new() &#123; List&lt;string&gt; output = new List&lt;string&gt;(); foreach (string name in names) &#123; var elem = new T(name); foreach (string badParameter in elem.BadParameters) &#123; output.Add(badParameter); &#125; &#125; return output; &#125;</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

好吧……首先，我猜想“坏参数”是指元素派生类中的属性名称。 例如，我猜测如果墙壁的长度为负数，则“长度”将是该特定墙壁的错误参数。 其次，我猜测您将拥有大量的元素，例如，图中的墙壁和地板（以及其他东西）的数量等等。 假设这样做的一种方法是在Element类中有一个抽象方法，该方法返回错误的参数，并在每个派生类中实现它。 像这样： 然后，如果您拥有所有元素的列表，则可以通过以下方式获取所有错误参数： 我要说的是，这可能不是一个很好的设计。 您将最终得到一个其中许多元素包含错误参数的系统。 如果您只是从头开始防止不良参数的发生，那么生活可能会容易得多。 您可以通过将所有参数属性的'set'方法设为私有并添加诸如bool Wall.TrySetParameters（double length，bool isLoadBearing）之类的方法来实现。 如果参数很差，则只会返回false而不将参数分配给墙。 如果要在基类中包含TrySetParameters，则可以使用更通用的签名来实现，例如

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> public abstract class Element  </span><br><span class="line">&#123;</span><br><span class="line">    public string Name &#123; get; private set; &#125;</span><br><span class="line">    public abstract IList&lt;string&gt; GetBadParameters();</span><br><span class="line">    public Element( string name) &#123; this.Name = name; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Wall </span><br><span class="line">&#123;</span><br><span class="line">    public Wall( string name): base(name) &#123;&#125;</span><br><span class="line">    public double Length &#123; get; set; &#125;</span><br><span class="line">    public bool IsLoadBearing &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">    public IList&lt;string&gt; GetBadParameters() &#123;</span><br><span class="line">         List&lt;string&gt; bad = new List&lt;string&gt;();</span><br><span class="line">         if (this.Length &lt;= 0) &#123; bad.Add( this.Name + &quot;: &quot; + nameof( this.Length); &#125;</span><br><span class="line">         if (this.IsLoadBearing &amp;&amp; this.Length &gt; whatever) &#123; bad.Add( this.Name + &quot;: &quot; + nameof( this.IsLoadBearing); &#125;</span><br><span class="line">         return bad;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>===============&gt;&gt;#2 票数：0</strong></p>

我假设您的BadParameter列表内容对于所有派生类都是相同的。 如果此列表不常见，则没有必要在基本类中填充这些列表。 根据这个假设，我可以建议您进行以下更改。 您的基类如下所示。 无需将GetBadParameters（）设置为静态 您的第一个派生类Wall，它将从base调用GetBadParameters。 第二派生类“ Floor”也是如此 在实现类中，可以通过将Element类保留为引用并调用相应的GetBadParameters来创建墙和地板对象

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public abstract class Element</span><br><span class="line">   &#123;</span><br><span class="line">       public string ElementName &#123; get; &#125;</span><br><span class="line">       public List&lt;string&gt; BadParameters &#123; get; set; &#125; = new List&lt;string&gt;();</span><br><span class="line"></span><br><span class="line">       //Constructor</span><br><span class="line">       public Element(string name)</span><br><span class="line">       &#123;</span><br><span class="line">           ElementName = name;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       /// &lt;summary&gt;</span><br><span class="line">       /// Tjis Method is common for alal derived classes. Assuming content is same for all dervied class</span><br><span class="line">       /// &lt;/summary&gt;</span><br><span class="line">       /// &lt;returns&gt;&lt;/returns&gt;</span><br><span class="line">       //The method in question---</span><br><span class="line">       public List&lt;string&gt; GetBadParameters()</span><br><span class="line">       &#123;</span><br><span class="line">           return new List&lt;string&gt;() &#123; &quot;1&quot;, &quot;2&quot; &#125;;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><strong>===============&gt;&gt;#3 票数：0</strong></p>

您试图从List<string>返回不同类型的参数，这是不可能的。 List<string>不知道哪个。 您的基类不应具有这样的方法。 那应该在您的实现中完成。 List<element>可以包含继承Element基类（Wall，Floor，..）的任何对象。 然后，可以通过元素列表的OfType(DerivedType) IEnumerable方法选择要处理的类型。 以下几点可能会有所帮助： 基类 派生类 实施实例 祝好运。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"> public abstract class Element</span><br><span class="line">&#123;</span><br><span class="line">    private readonly List&lt;string&gt; Parameters = new List&lt;string&gt;();</span><br><span class="line"></span><br><span class="line">    public Element(string name) =&gt; ElementName = name;</span><br><span class="line"></span><br><span class="line">    public string ElementName &#123; get; &#125;</span><br><span class="line"></span><br><span class="line">    public void SetParameter(string Param)</span><br><span class="line">    &#123;</span><br><span class="line">        if (Param != null)</span><br><span class="line">            Parameters.Add(Param);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void SetParameters(IEnumerable&lt;string&gt; Params)</span><br><span class="line">    &#123;</span><br><span class="line">        if (Params != null)</span><br><span class="line">            Parameters.AddRange(Params);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public IEnumerable&lt;string&gt; GetParameters()</span><br><span class="line">    &#123;</span><br><span class="line">        return Parameters;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static Element CreateElement&lt;T&gt;(string elementName, IEnumerable&lt;string&gt; Params) where T : Element</span><br><span class="line">    &#123;</span><br><span class="line">        switch (typeof(T))</span><br><span class="line">        &#123;</span><br><span class="line">            case var type when type == typeof(Wall):</span><br><span class="line">                var wall = new Wall(elementName);</span><br><span class="line">                wall.SetParameters(Params);</span><br><span class="line">                return wall;</span><br><span class="line">            case var type when type == typeof(Floor):</span><br><span class="line">                var floor = new Floor(elementName);</span><br><span class="line">                floor.SetParameters(Params);</span><br><span class="line">                return floor;</span><br><span class="line">            default:</span><br><span class="line">                return null;</span><br><span class="line">            case null:</span><br><span class="line">                throw new ArgumentNullException(nameof(T));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public override string ToString()</span><br><span class="line">    &#123;</span><br><span class="line">        return $&quot;&#123;ElementName&#125;: &#123;string.Join(&quot;, &quot;, Parameters)&#125;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</element></string></string>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../androidGradlew构建失败堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../androidGradlew构建失败堆栈内存溢出.html" itemprop="url">androidGradlew构建失败堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
Gradlew build fails


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我正在尝试使用libGDX项目生成器来建立一个项目。

我要做的是：双击gdx-setup.jar。 用户界面中的所有字段均保留其默认值，“目标”（C：\\ Users \\ Robert \\ Development \\ libGDX \\ test）和“ Android SDK”除外（C：\\ Users \\ Robert \\ Development \\ android-sdk） 。 我为子项目选择“桌面”和“ Android”，然后取消选择所有扩展。 最后，我单击“生成”。 一段时间后，构建停止，并通知我“构建失败”。

我也尝试从这样的命令行运行gradlew：

gradlew.bat clean-刷新依赖关系

结果是一样的。

stacktrace（如下所示）使我认为pom文件可能有问题，但是当我在编辑器中查看它们时，它们看起来不错。

我已在另一台计算机上成功使用gradlew，因此问题必须与我现在所在的计算机有关。 我曾尝试在网上寻找答案，但到目前为止，我没有发现任何相关信息。 我希望这里有人可以对此有所启发。 我的计算机运行的是Win 7 Home Premium 64位，以防万一。

stacktrace的开始看起来像这样：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FAILURE: Build failed with an exception. * What went wrong: A problem occurred configuring root project &apos;test&apos;. &gt; Could not resolve all dependencies for configuration &apos;:classpath&apos;. &gt; Could not resolve net.sf.proguard:proguard-gradle:4.11. Required by: :test:unspecified &gt; com.android.tools.build:gradle:0.10.4 &gt; Could not parse POM http://repo1.maven.org/maven2/net/sf/proguard/proguard-gradle/4.11/proguard-gradle-4.11.pom &gt; Could not resolve net.sf.proguard:proguard-parent:4.11. &gt; Could not parse POM http://repo1.maven.org/maven2/net/sf/proguard/proguard-parent/4.11/proguard-parent-4.11.pom &gt; Could not HEAD &apos;http://repo1.maven.org/maven2/net/sf/proguard/proguard-parent/4.11/proguard-parent-4.11.jar&apos;. &gt; Permission denied: recv failed</span><br></pre></td></tr></table></figure>


编辑：已经有了一些发展。 我不太确定该怎么做才能引起更改，但是我确实设置了ANDROID_HOME变量，重新启动计算机，然后再次下载gdx-setup.jar文件（只是确保我具有最新版本）。 无论如何，无论在运行Project Generator还是从命令行运行gradlew时，构建仍然都会失败。 但是，错误现在不一样了。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Evaluating root project &apos;test&apos; using build file &apos;C:\Users\Robert\Development\libGDX\test\build.gradle&apos;. Error listing versions of com.android.tools.build:gradle using class org.gradle.api.internal.artifacts.repositories.resolver.MavenVersionLister$1. Will attempt an alternate way to list versions. This behaviour has been deprecated and is scheduled to be removed in Gradle 2.0 FAILURE: Build failed with an exception. * What went wrong: A problem occurred configuring root project &apos;test&apos;. &gt; Could not resolve all dependencies for configuration &apos;:classpath&apos;. &gt; Could not find any version that matches com.android.tools.build:gradle:0.10+. Required by: :test:unspecified * Try: Run with --debug option to get more log output. * Exception is: org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &apos;test&apos;. at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:79) at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:57) at org.gradle.api.internal.project.AbstractProject.evaluate(AbstractProject.java:507) at org.gradle.api.internal.project.AbstractProject.evaluate(AbstractProject.java:82) at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:28) at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:142) at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:113) at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:81) at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:64) at org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:33) at org.gradle.launcher.cli.ExecuteBuildAction.run(ExecuteBuildAction.java:24) at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:35) at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:45) at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:34) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:42) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:24) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.StartStopIfBuildAndStop.execute(StartStopIfBuildAndStop.java:33) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.ReturnResult.execute(ReturnResult.java:34) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:71) at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:69) at org.gradle.util.Swapper.swap(Swapper.java:38) at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:69) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60) at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:34) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:60) at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:34) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:45) at org.gradle.launcher.daemon.server.DaemonStateCoordinator.runCommand(DaemonStateCoordinator.java:186) at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy.doBuild(StartBuildOrRespondWithBusy.java:49) at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:34) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.HandleStop.execute(HandleStop.java:36) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.DaemonHygieneAction.execute(DaemonHygieneAction.java:39) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.CatchAndForwardDaemonFailure.execute(CatchAndForwardDaemonFailure.java:32) at org.gradle.launcher.daemon.server.exec.DaemonCommandExecution.proceed(DaemonCommandExecution.java:125) at org.gradle.launcher.daemon.server.exec.DefaultDaemonCommandExecuter.executeCommand(DefaultDaemonCommandExecuter.java:51) at org.gradle.launcher.daemon.server.DefaultIncomingConnectionHandler$ConnectionWorker.handleCommand(DefaultIncomingConnectionHandler.java:155) at org.gradle.launcher.daemon.server.DefaultIncomingConnectionHandler$ConnectionWorker.receiveAndHandleCommand(DefaultIncomingConnectionHandler.java:128) at org.gradle.launcher.daemon.server.DefaultIncomingConnectionHandler$ConnectionWorker.run(DefaultIncomingConnectionHandler.java:116) at org.gradle.internal.concurrent.DefaultExecutorFactory$StoppableExecutorImpl$1.run(DefaultExecutorFactory.java:64) Caused by: org.gradle.api.artifacts.ResolveException: Could not resolve all dependencies for configuration &apos;:classpath&apos;. at org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration.rethrowFailure(DefaultLenientConfiguration.java:52) at org.gradle.api.internal.artifacts.ivyservice.DefaultResolvedConfiguration.rethrowFailure(DefaultResolvedConfiguration.java:36) at org.gradle.api.internal.artifacts.ivyservice.SelfResolvingDependencyResolver$FilesAggregatingResolvedConfiguration.rethrowFailure(SelfResolvingDependencyResolver.java:106) at org.gradle.api.internal.artifacts.ivyservice.ErrorHandlingArtifactDependencyResolver$ErrorHandlingResolvedConfiguration.rethrowFailure(ErrorHandlingArtifactDependencyResolver.java:176) at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:465) at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getFiles(DefaultConfiguration.java:202) at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source) at org.gradle.api.internal.initialization.DefaultScriptHandler.updateClassPath(DefaultScriptHandler.java:75) at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:167) at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:38) at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:25) at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34) at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:55) ... 48 more Caused by: org.gradle.api.internal.artifacts.ivyservice.ModuleVersionNotFoundException: Could not find any version that matches com.android.tools.build:gradle:0.10+. Required by: :test:unspecified at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.LazyDependencyToModuleResolver$DynamicVersionResolveResult.notFound(LazyDependencyToModuleResolver.java:170) at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.LazyDependencyToModuleResolver$AbstractVersionResolveResult.resolve(LazyDependencyToModuleResolver.java:91) at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.LazyDependencyToModuleResolver.resolve(LazyDependencyToModuleResolver.java:47) at org.gradle.api.internal.artifacts.ivyservice.VersionForcingDependencyToModuleResolver.resolve(VersionForcingDependencyToModuleResolver.java:48) at org.gradle.api.internal.artifacts.ivyservice.resolveengine.DependencyGraphBuilder$ModuleVersionSelectorResolveState.resolveModuleRevisionId(DependencyGraphBuilder.java:936) at org.gradle.api.internal.artifacts.ivyservice.resolveengine.DependencyGraphBuilder$DependencyEdge.resolveModuleRevisionId(DependencyGraphBuilder.java:297) at org.gradle.api.internal.artifacts.ivyservice.resolveengine.DependencyGraphBuilder.traverseGraph(DependencyGraphBuilder.java:94) at org.gradle.api.internal.artifacts.ivyservice.resolveengine.DependencyGraphBuilder.resolve(DependencyGraphBuilder.java:67) at org.gradle.api.internal.artifacts.ivyservice.resolveengine.DefaultDependencyResolver$1.transform(DefaultDependencyResolver.java:108) at org.gradle.api.internal.artifacts.ivyservice.resolveengine.DefaultDependencyResolver$1.transform(DefaultDependencyResolver.java:77) at org.gradle.api.internal.artifacts.ivyservice.DefaultIvyContextManager.withIvy(DefaultIvyContextManager.java:61) at org.gradle.api.internal.artifacts.ivyservice.resolveengine.DefaultDependencyResolver.resolve(DefaultDependencyResolver.java:77) at org.gradle.api.internal.artifacts.ivyservice.CacheLockingArtifactDependencyResolver$1.create(CacheLockingArtifactDependencyResolver.java:39) at org.gradle.api.internal.artifacts.ivyservice.CacheLockingArtifactDependencyResolver$1.create(CacheLockingArtifactDependencyResolver.java:37) at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:187) at org.gradle.cache.internal.DefaultPersistentDirectoryStore.useCache(DefaultPersistentDirectoryStore.java:102) at org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.useCache(DefaultCacheFactory.java:189) at org.gradle.api.internal.artifacts.ivyservice.DefaultCacheLockingManager.useCache(DefaultCacheLockingManager.java:61) at org.gradle.api.internal.artifacts.ivyservice.CacheLockingArtifactDependencyResolver.resolve(CacheLockingArtifactDependencyResolver.java:37) at org.gradle.api.internal.artifacts.ivyservice.SelfResolvingDependencyResolver.resolve(SelfResolvingDependencyResolver.java:41) at org.gradle.api.internal.artifacts.ivyservice.ShortcircuitEmptyConfigsArtifactDependencyResolver.resolve(ShortcircuitEmptyConfigsArtifactDependencyResolver.java:51) at org.gradle.api.internal.artifacts.ivyservice.ErrorHandlingArtifactDependencyResolver.resolve(ErrorHandlingArtifactDependencyResolver.java:44) at org.gradle.api.internal.artifacts.ivyservice.DefaultConfigurationResolver.resolve(DefaultConfigurationResolver.java:42) at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.resolveNow(DefaultConfiguration.java:240) at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getResolvedConfiguration(DefaultConfiguration.java:230) at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getResolvedConfiguration(Unknown Source) at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:463) ... 56 more BUILD FAILED</span><br></pre></td></tr></table></figure>


这是根项目中的build.gradle文件：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123; repositories &#123; mavenCentral() mavenLocal() &#125; dependencies &#123; classpath &apos;com.android.tools.build:gradle:0.10+&apos; &#125; &#125; allprojects &#123; apply plugin: &quot;eclipse&quot; apply plugin: &quot;idea&quot; version = &apos;1.0&apos; ext &#123; appName = &apos;my-gdx-game&apos; gdxVersion = &apos;1.3.1&apos; roboVMVersion = &apos;0.0.14&apos; &#125; repositories &#123; mavenLocal() mavenCentral() maven &#123; url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; &#125; maven &#123; url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; &#125; &#125; &#125; project(&quot;:desktop&quot;) &#123; apply plugin: &quot;java&quot; dependencies &#123; compile project(&quot;:core&quot;) compile &quot;com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion&quot; compile &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot; &#125; &#125; project(&quot;:android&quot;) &#123; apply plugin: &quot;android&quot; configurations &#123; natives &#125; dependencies &#123; compile project(&quot;:core&quot;) compile &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot; natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi&quot; natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot; natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot; &#125; &#125; project(&quot;:core&quot;) &#123; apply plugin: &quot;java&quot; dependencies &#123; compile &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot; &#125; &#125; tasks.eclipse.doLast &#123; delete &quot;.project&quot; &#125;</span><br></pre></td></tr></table></figure>


这是来自Android子项目的build.gradle文件：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android &#123; buildToolsVersion &quot;20.0.0&quot; compileSdkVersion 20 sourceSets &#123; main &#123; manifest.srcFile &apos;AndroidManifest.xml&apos; java.srcDirs = [&apos;src&apos;] aidl.srcDirs = [&apos;src&apos;] renderscript.srcDirs = [&apos;src&apos;] res.srcDirs = [&apos;res&apos;] assets.srcDirs = [&apos;assets&apos;] &#125; instrumentTest.setRoot(&apos;tests&apos;) &#125; &#125; // needed to add JNI shared libraries to APK when compiling on CLI tasks.withType(com.android.build.gradle.tasks.PackageApplication) &#123; pkgTask -&gt; pkgTask.jniFolders = new HashSet&lt;File&gt;() pkgTask.jniFolders.add(new File(projectDir, &apos;libs&apos;)) &#125; // called every time gradle gets executed, takes the native dependencies of // the natives configuration, and extracts them to the proper libs/ folders // so they get packed with the APK. task copyAndroidNatives() &#123; file(&quot;libs/armeabi/&quot;).mkdirs(); file(&quot;libs/armeabi-v7a/&quot;).mkdirs(); file(&quot;libs/x86/&quot;).mkdirs(); configurations.natives.files.each &#123; jar -&gt; def outputDir = null if(jar.name.endsWith(&quot;natives-armeabi-v7a.jar&quot;)) outputDir = file(&quot;libs/armeabi-v7a&quot;) if(jar.name.endsWith(&quot;natives-armeabi.jar&quot;)) outputDir = file(&quot;libs/armeabi&quot;) if(jar.name.endsWith(&quot;natives-x86.jar&quot;)) outputDir = file(&quot;libs/x86&quot;) if(outputDir != null) &#123; copy &#123; from zipTree(jar) into outputDir include &quot;*.so&quot; &#125; &#125; &#125; &#125; task run(type: Exec) &#123; def path def localProperties = project.file(&quot;../local.properties&quot;) if (localProperties.exists()) &#123; Properties properties = new Properties() localProperties.withInputStream &#123; instr -&gt; properties.load(instr) &#125; def sdkDir = properties.getProperty(&apos;sdk.dir&apos;) if (sdkDir) &#123; path = sdkDir &#125; else &#123; path = &quot;$System.env.ANDROID_HOME&quot; &#125; &#125; else &#123; path = &quot;$System.env.ANDROID_HOME&quot; &#125; def adb = path + &quot;/platform-tools/adb&quot; commandLine &quot;$adb&quot;, &apos;shell&apos;, &apos;am&apos;, &apos;start&apos;, &apos;-n&apos;, &apos;com.mygdx.game.android/com.mygdx.game.android.AndroidLauncher&apos; &#125; // sets up the Android Eclipse project, using the old Ant based build. eclipse &#123; // need to specify Java source sets explicitely, SpringSource Gradle Eclipse plugin // ignores any nodes added in classpath.file.withXml sourceSets &#123; main &#123; java.srcDirs &quot;src&quot;, &apos;gen&apos; &#125; &#125; jdt &#123; sourceCompatibility = 1.6 targetCompatibility = 1.6 &#125; classpath &#123; plusConfigurations += project.configurations.compile containers &apos;com.android.ide.eclipse.adt.ANDROID_FRAMEWORK&apos;, &apos;com.android.ide.eclipse.adt.LIBRARIES&apos; &#125; project &#123; name = appName + &quot;-android&quot; natures &apos;com.android.ide.eclipse.adt.AndroidNature&apos; buildCommands.clear(); buildCommand &quot;com.android.ide.eclipse.adt.ResourceManagerBuilder&quot; buildCommand &quot;com.android.ide.eclipse.adt.PreCompilerBuilder&quot; buildCommand &quot;org.eclipse.jdt.core.javabuilder&quot; buildCommand &quot;com.android.ide.eclipse.adt.ApkBuilder&quot; &#125; &#125; // sets up the Android Idea project, using the old Ant based build. idea &#123; module &#123; sourceDirs += file(&quot;src&quot;); scopes = [ COMPILE: [plus:[project.configurations.compile]]] iml &#123; withXml &#123; def node = it.asNode() def builder = NodeBuilder.newInstance(); builder.current = node; builder.component(name: &quot;FacetManager&quot;) &#123; facet(type: &quot;android&quot;, name: &quot;Android&quot;) &#123; configuration &#123; option(name: &quot;UPDATE_PROPERTY_FILES&quot;, value:&quot;true&quot;) &#125; &#125; &#125; &#125; &#125; &#125; &#125;</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

看起来像同一期 首先检查gradle-wrapper.properties文件
**===============>>#2 票数：0**

我可能是错的，但似乎您使用的LibGdx版本高于最新版本： 截至今天在badlogicgames网站上，它说，我引用 请参阅此Wiki文章，了解如何更新到最新的libGDX版本（1.3.0）。 现在最新的快照版本是“ 1.3.1-SNAPSHOT”。 因此，尝试将行更改为：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdxVersion = &apos;1.3.1&apos;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../algorithm在小于On的范围内覆盖arraylist堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../algorithm在小于On的范围内覆盖arraylist堆栈内存溢出.html" itemprop="url">algorithm在小于On的范围内覆盖arraylist堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
coverting arraylist to array in less than O(n)


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我目前正在研究程序，想将ArrayList转换为数组，但少于O（n）的时间。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for (int i = 0; i &lt; list.size(); i++) &#123; if (list.get(i) != null) &#123; arr[i] = list.get(i); &#125; &#125;</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

如果n是列表的长度，则O（n）在这种情况下意味着您查看列表中的每个元素并将其复制。 现在，您说要转换为小于O（n）的值。 这意味着您必须忽略列表中的某些元素。 如果不是，它将再次为O（n）。 但是您忽略了哪些？ 请记住，不允许您再查看所有其他元素，否则它将再次出现在O（n）中。 假设您知道列表包含布尔值，其中n / 2为true，其他为false。 在最佳情况下，所有真实值都在列表的前半部分。 现在您可以在列表的n / 2处停止迭代，但是您需要再次将false值添加到Array中。 现在您又在O（n）中。 让我们做另一个假设。 您始终可以忽略列表的最后一个值。 这意味着您仅迭代n-1次，然后是O（n-1），但是使用大O表示法时，您将忽略常量，因此它将再次获得O（n）。 不可能将列表的所有n个元素都复制到O（n）以下的Array中。

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../algorithm二维索引数据结构堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../algorithm二维索引数据结构堆栈内存溢出.html" itemprop="url">algorithm二维索引数据结构堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
Two-dimensional index data structure


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我需要对数据进行内存中的二维索引。 使用场景：

罕见的批量写入-新元素将大块添加，与读取相比，添加频率非常低。 经常阅读。 范围查询（ a < x < b AND n < y < m ）应该很快。 关于“快速”是什么，我没有给出任何度量标准，因为它显然取决于超出此问题范围的许多事情。 数据全部在内存中

我已经测试了两个选项：

还有哪些其他选项需要考虑，哪些选项可以提供最高范围的查询性能？

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

正如上面的评论中所述，四叉树应该很快，但是在将其除以2时，就数值精度而言，它们有些困难。 R树的构建速度较慢，而且更为复杂。 它们确实非常适合磁盘存储，但是您可以在内存中自由调整节点大小，直到达到最佳性能为止。 如果可以批量加载，请查看STR-R-Tree（排序-分片-递归），它们构建缓慢，但之后性能最佳。 否则，以我的经验，R * Trees（RStarTrees）是最好的。 如果您使用的是Java，则也许可以找到我的TinSpin索引集合，则可以尝试多个索引，包括PH树（按位四叉树），该树的构建速度非常快，但对于（小）窗口查询也非常有用。 对于大窗口查询（每个窗口1000个或更多结果），Rtree可能更好。

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../cllvm文档示例无法编译堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../cllvm文档示例无法编译堆栈内存溢出.html" itemprop="url">cllvm文档示例无法编译堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
llvm documentation example does not compile


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我遵循文档页面末尾的llvm示例。 但是，当我使用建议的脚本编译此代码时，除了添加-std=c++17 ，我收到了这样的错误消息。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">toy.cpp:226:17: error: no template named &apos;make_unique&apos; in namespace &apos;std&apos;; did you mean simply &apos;make_unique&apos;? auto Result = std::make_unique&lt;NumberExprAST&gt;(NumVal); ^~~~~~~~~~~~~~~~ make_unique /usr/lib/llvm-9/include/llvm/ADT/STLExtras.h:1405:1: note: &apos;make_unique&apos; declared here make_unique(Args &amp;&amp;... args) &#123; ^</span><br></pre></td></tr></table></figure>


命令：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang++-9 -std=c++17 -g -O3 toy.cpp `llvm-config-9 --cxxflags --ldflags --system-libs --libs core` -o toy</span><br></pre></td></tr></table></figure>


主要代码：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;llvm/ADT/APFloat.h&quot; #include &quot;llvm/ADT/STLExtras.h&quot; #include &quot;llvm/IR/BasicBlock.h&quot; #include &quot;llvm/IR/Constants.h&quot; #include &quot;llvm/IR/DerivedTypes.h&quot; #include &quot;llvm/IR/Function.h&quot; #include &quot;llvm/IR/IRBuilder.h&quot; #include &quot;llvm/IR/LLVMContext.h&quot; #include &quot;llvm/IR/Module.h&quot; #include &quot;llvm/IR/Type.h&quot; #include &quot;llvm/IR/Verifier.h&quot; #include &lt;algorithm&gt; #include &lt;cctype&gt; #include &lt;cstdio&gt; #include &lt;cstdlib&gt; #include &lt;map&gt; #include &lt;memory&gt; #include &lt;string&gt; #include &lt;vector&gt; using namespace llvm; //===----------------------------------------------------------------------===// // Lexer //===----------------------------------------------------------------------===// // The lexer returns tokens [0-255] if it is an unknown character, otherwise one // of these for known things. enum Token &#123; tok_eof = -1, // commands tok_def = -2, tok_extern = -3, // primary tok_identifier = -4, tok_number = -5 &#125;; static std::string IdentifierStr; // Filled in if tok_identifier static double NumVal; // Filled in if tok_number /// gettok - Return the next token from standard input. static int gettok() &#123; static int LastChar = &apos; &apos;; // Skip any whitespace. while (isspace(LastChar)) LastChar = getchar(); if (isalpha(LastChar)) &#123; // identifier: [a-zA-Z][a-zA-Z0-9]* IdentifierStr = LastChar; while (isalnum((LastChar = getchar()))) IdentifierStr += LastChar; if (IdentifierStr == &quot;def&quot;) return tok_def; if (IdentifierStr == &quot;extern&quot;) return tok_extern; return tok_identifier; &#125; if (isdigit(LastChar) || LastChar == &apos;.&apos;) &#123; // Number: [0-9.]+ std::string NumStr; do &#123; NumStr += LastChar; LastChar = getchar(); &#125; while (isdigit(LastChar) || LastChar == &apos;.&apos;); NumVal = strtod(NumStr.c_str(), nullptr); return tok_number; &#125; if (LastChar == &apos;#&apos;) &#123; // Comment until end of line. do LastChar = getchar(); while (LastChar != EOF &amp;&amp; LastChar != &apos;\n&apos; &amp;&amp; LastChar != &apos;\r&apos;); if (LastChar != EOF) return gettok(); &#125; // Check for end of file. Don&apos;t eat the EOF. if (LastChar == EOF) return tok_eof; // Otherwise, just return the character as its ascii value. int ThisChar = LastChar; LastChar = getchar(); return ThisChar; &#125; //===----------------------------------------------------------------------===// // Abstract Syntax Tree (aka Parse Tree) //===----------------------------------------------------------------------===// namespace &#123; /// ExprAST - Base class for all expression nodes. class ExprAST &#123; public: virtual ~ExprAST() = default; virtual Value *codegen() = 0; &#125;; /// NumberExprAST - Expression class for numeric literals like &quot;1.0&quot;. class NumberExprAST : public ExprAST &#123; double Val; public: NumberExprAST(double Val) : Val(Val) &#123;&#125; Value *codegen() override; &#125;; /// VariableExprAST - Expression class for referencing a variable, like &quot;a&quot;. class VariableExprAST : public ExprAST &#123; std::string Name; public: VariableExprAST(const std::string &amp;Name) : Name(Name) &#123;&#125; Value *codegen() override; &#125;; /// BinaryExprAST - Expression class for a binary operator. class BinaryExprAST : public ExprAST &#123; char Op; std::unique_ptr&lt;ExprAST&gt; LHS, RHS; public: BinaryExprAST(char Op, std::unique_ptr&lt;ExprAST&gt; LHS, std::unique_ptr&lt;ExprAST&gt; RHS) : Op(Op), LHS(std::move(LHS)), RHS(std::move(RHS)) &#123;&#125; Value *codegen() override; &#125;; /// CallExprAST - Expression class for function calls. class CallExprAST : public ExprAST &#123; std::string Callee; std::vector&lt;std::unique_ptr&lt;ExprAST&gt;&gt; Args; public: CallExprAST(const std::string &amp;Callee, std::vector&lt;std::unique_ptr&lt;ExprAST&gt;&gt; Args) : Callee(Callee), Args(std::move(Args)) &#123;&#125; Value *codegen() override; &#125;; /// PrototypeAST - This class represents the &quot;prototype&quot; for a function, /// which captures its name, and its argument names (thus implicitly the number /// of arguments the function takes). class PrototypeAST &#123; std::string Name; std::vector&lt;std::string&gt; Args; public: PrototypeAST(const std::string &amp;Name, std::vector&lt;std::string&gt; Args) : Name(Name), Args(std::move(Args)) &#123;&#125; Function *codegen(); const std::string &amp;getName() const &#123; return Name; &#125; &#125;; /// FunctionAST - This class represents a function definition itself. class FunctionAST &#123; std::unique_ptr&lt;PrototypeAST&gt; Proto; std::unique_ptr&lt;ExprAST&gt; Body; public: FunctionAST(std::unique_ptr&lt;PrototypeAST&gt; Proto, std::unique_ptr&lt;ExprAST&gt; Body) : Proto(std::move(Proto)), Body(std::move(Body)) &#123;&#125; Function *codegen(); &#125;; &#125; // end anonymous namespace //===----------------------------------------------------------------------===// // Parser //===----------------------------------------------------------------------===// /// CurTok/getNextToken - Provide a simple token buffer. CurTok is the current /// token the parser is looking at. getNextToken reads another token from the /// lexer and updates CurTok with its results. static int CurTok; static int getNextToken() &#123; return CurTok = gettok(); &#125; /// BinopPrecedence - This holds the precedence for each binary operator that is /// defined. static std::map&lt;char, int&gt; BinopPrecedence; /// GetTokPrecedence - Get the precedence of the pending binary operator token. static int GetTokPrecedence() &#123; if (!isascii(CurTok)) return -1; // Make sure it&apos;s a declared binop. int TokPrec = BinopPrecedence[CurTok]; if (TokPrec &lt;= 0) return -1; return TokPrec; &#125; /// LogError* - These are little helper functions for error handling. std::unique_ptr&lt;ExprAST&gt; LogError(const char *Str) &#123; fprintf(stderr, &quot;Error: %s\n&quot;, Str); return nullptr; &#125; std::unique_ptr&lt;PrototypeAST&gt; LogErrorP(const char *Str) &#123; LogError(Str); return nullptr; &#125; static std::unique_ptr&lt;ExprAST&gt; ParseExpression(); /// numberexpr ::= number static std::unique_ptr&lt;ExprAST&gt; ParseNumberExpr() &#123; auto Result = std::make_unique&lt;NumberExprAST&gt;(NumVal); getNextToken(); // consume the number return std::move(Result); &#125; /// parenexpr ::= &apos;(&apos; expression &apos;)&apos; static std::unique_ptr&lt;ExprAST&gt; ParseParenExpr() &#123; getNextToken(); // eat (. auto V = ParseExpression(); if (!V) return nullptr; if (CurTok != &apos;)&apos;) return LogError(&quot;expected &apos;)&apos;&quot;); getNextToken(); // eat ). return V; &#125; /// identifierexpr /// ::= identifier /// ::= identifier &apos;(&apos; expression* &apos;)&apos; static std::unique_ptr&lt;ExprAST&gt; ParseIdentifierExpr() &#123; std::string IdName = IdentifierStr; getNextToken(); // eat identifier. if (CurTok != &apos;(&apos;) // Simple variable ref. return std::make_unique&lt;VariableExprAST&gt;(IdName); // Call. getNextToken(); // eat ( std::vector&lt;std::unique_ptr&lt;ExprAST&gt;&gt; Args; if (CurTok != &apos;)&apos;) &#123; while (true) &#123; if (auto Arg = ParseExpression()) Args.push_back(std::move(Arg)); else return nullptr; if (CurTok == &apos;)&apos;) break; if (CurTok != &apos;,&apos;) return LogError(&quot;Expected &apos;)&apos; or &apos;,&apos; in argument list&quot;); getNextToken(); &#125; &#125; // Eat the &apos;)&apos;. getNextToken(); return std::make_unique&lt;CallExprAST&gt;(IdName, std::move(Args)); &#125; /// primary /// ::= identifierexpr /// ::= numberexpr /// ::= parenexpr static std::unique_ptr&lt;ExprAST&gt; ParsePrimary() &#123; switch (CurTok) &#123; default: return LogError(&quot;unknown token when expecting an expression&quot;); case tok_identifier: return ParseIdentifierExpr(); case tok_number: return ParseNumberExpr(); case &apos;(&apos;: return ParseParenExpr(); &#125; &#125; /// binoprhs /// ::= (&apos;+&apos; primary)* static std::unique_ptr&lt;ExprAST&gt; ParseBinOpRHS(int ExprPrec, std::unique_ptr&lt;ExprAST&gt; LHS) &#123; // If this is a binop, find its precedence. while (true) &#123; int TokPrec = GetTokPrecedence(); // If this is a binop that binds at least as tightly as the current binop, // consume it, otherwise we are done. if (TokPrec &lt; ExprPrec) return LHS; // Okay, we know this is a binop. int BinOp = CurTok; getNextToken(); // eat binop // Parse the primary expression after the binary operator. auto RHS = ParsePrimary(); if (!RHS) return nullptr; // If BinOp binds less tightly with RHS than the operator after RHS, let // the pending operator take RHS as its LHS. int NextPrec = GetTokPrecedence(); if (TokPrec &lt; NextPrec) &#123; RHS = ParseBinOpRHS(TokPrec + 1, std::move(RHS)); if (!RHS) return nullptr; &#125; // Merge LHS/RHS. LHS = std::make_unique&lt;BinaryExprAST&gt;(BinOp, std::move(LHS), std::move(RHS)); &#125; &#125; /// expression /// ::= primary binoprhs /// static std::unique_ptr&lt;ExprAST&gt; ParseExpression() &#123; auto LHS = ParsePrimary(); if (!LHS) return nullptr; return ParseBinOpRHS(0, std::move(LHS)); &#125; /// prototype /// ::= id &apos;(&apos; id* &apos;)&apos; static std::unique_ptr&lt;PrototypeAST&gt; ParsePrototype() &#123; if (CurTok != tok_identifier) return LogErrorP(&quot;Expected function name in prototype&quot;); std::string FnName = IdentifierStr; getNextToken(); if (CurTok != &apos;(&apos;) return LogErrorP(&quot;Expected &apos;(&apos; in prototype&quot;); std::vector&lt;std::string&gt; ArgNames; while (getNextToken() == tok_identifier) ArgNames.push_back(IdentifierStr); if (CurTok != &apos;)&apos;) return LogErrorP(&quot;Expected &apos;)&apos; in prototype&quot;); // success. getNextToken(); // eat &apos;)&apos;. return std::make_unique&lt;PrototypeAST&gt;(FnName, std::move(ArgNames)); &#125; /// definition ::= &apos;def&apos; prototype expression static std::unique_ptr&lt;FunctionAST&gt; ParseDefinition() &#123; getNextToken(); // eat def. auto Proto = ParsePrototype(); if (!Proto) return nullptr; if (auto E = ParseExpression()) return std::make_unique&lt;FunctionAST&gt;(std::move(Proto), std::move(E)); return nullptr; &#125; /// toplevelexpr ::= expression static std::unique_ptr&lt;FunctionAST&gt; ParseTopLevelExpr() &#123; if (auto E = ParseExpression()) &#123; // Make an anonymous proto. auto Proto = std::make_unique&lt;PrototypeAST&gt;(&quot;__anon_expr&quot;, std::vector&lt;std::string&gt;()); return std::make_unique&lt;FunctionAST&gt;(std::move(Proto), std::move(E)); &#125; return nullptr; &#125; /// external ::= &apos;extern&apos; prototype static std::unique_ptr&lt;PrototypeAST&gt; ParseExtern() &#123; getNextToken(); // eat extern. return ParsePrototype(); &#125; //===----------------------------------------------------------------------===// // Code Generation //===----------------------------------------------------------------------===// static LLVMContext TheContext; static IRBuilder&lt;&gt; Builder(TheContext); static std::unique_ptr&lt;Module&gt; TheModule; static std::map&lt;std::string, Value *&gt; NamedValues; Value *LogErrorV(const char *Str) &#123; LogError(Str); return nullptr; &#125; Value *NumberExprAST::codegen() &#123; return ConstantFP::get(TheContext, APFloat(Val)); &#125; Value *VariableExprAST::codegen() &#123; // Look this variable up in the function. Value *V = NamedValues[Name]; if (!V) return LogErrorV(&quot;Unknown variable name&quot;); return V; &#125; Value *BinaryExprAST::codegen() &#123; Value *L = LHS-&gt;codegen(); Value *R = RHS-&gt;codegen(); if (!L || !R) return nullptr; switch (Op) &#123; case &apos;+&apos;: return Builder.CreateFAdd(L, R, &quot;addtmp&quot;); case &apos;-&apos;: return Builder.CreateFSub(L, R, &quot;subtmp&quot;); case &apos;*&apos;: return Builder.CreateFMul(L, R, &quot;multmp&quot;); case &apos;&lt;&apos;: L = Builder.CreateFCmpULT(L, R, &quot;cmptmp&quot;); // Convert bool 0/1 to double 0.0 or 1.0 return Builder.CreateUIToFP(L, Type::getDoubleTy(TheContext), &quot;booltmp&quot;); default: return LogErrorV(&quot;invalid binary operator&quot;); &#125; &#125; Value *CallExprAST::codegen() &#123; // Look up the name in the global module table. Function *CalleeF = TheModule-&gt;getFunction(Callee); if (!CalleeF) return LogErrorV(&quot;Unknown function referenced&quot;); // If argument mismatch error. if (CalleeF-&gt;arg_size() != Args.size()) return LogErrorV(&quot;Incorrect # arguments passed&quot;); std::vector&lt;Value *&gt; ArgsV; for (unsigned i = 0, e = Args.size(); i != e; ++i) &#123; ArgsV.push_back(Args[i]-&gt;codegen()); if (!ArgsV.back()) return nullptr; &#125; return Builder.CreateCall(CalleeF, ArgsV, &quot;calltmp&quot;); &#125; Function *PrototypeAST::codegen() &#123; // Make the function type: double(double,double) etc. std::vector&lt;Type *&gt; Doubles(Args.size(), Type::getDoubleTy(TheContext)); FunctionType *FT = FunctionType::get(Type::getDoubleTy(TheContext), Doubles, false); Function *F = Function::Create(FT, Function::ExternalLinkage, Name, TheModule.get()); // Set names for all arguments. unsigned Idx = 0; for (auto &amp;Arg : F-&gt;args()) Arg.setName(Args[Idx++]); return F; &#125; Function *FunctionAST::codegen() &#123; // First, check for an existing function from a previous &apos;extern&apos; declaration. Function *TheFunction = TheModule-&gt;getFunction(Proto-&gt;getName()); if (!TheFunction) TheFunction = Proto-&gt;codegen(); if (!TheFunction) return nullptr; // Create a new basic block to start insertion into. BasicBlock *BB = BasicBlock::Create(TheContext, &quot;entry&quot;, TheFunction); Builder.SetInsertPoint(BB); // Record the function arguments in the NamedValues map. NamedValues.clear(); for (auto &amp;Arg : TheFunction-&gt;args()) NamedValues[Arg.getName()] = &amp;Arg; if (Value *RetVal = Body-&gt;codegen()) &#123; // Finish off the function. Builder.CreateRet(RetVal); // Validate the generated code, checking for consistency. verifyFunction(*TheFunction); return TheFunction; &#125; // Error reading body, remove function. TheFunction-&gt;eraseFromParent(); return nullptr; &#125; //===----------------------------------------------------------------------===// // Top-Level parsing and JIT Driver //===----------------------------------------------------------------------===// static void HandleDefinition() &#123; if (auto FnAST = ParseDefinition()) &#123; if (auto *FnIR = FnAST-&gt;codegen()) &#123; fprintf(stderr, &quot;Read function definition:&quot;); FnIR-&gt;print(errs()); fprintf(stderr, &quot;\n&quot;); &#125; &#125; else &#123; // Skip token for error recovery. getNextToken(); &#125; &#125; static void HandleExtern() &#123; if (auto ProtoAST = ParseExtern()) &#123; if (auto *FnIR = ProtoAST-&gt;codegen()) &#123; fprintf(stderr, &quot;Read extern: &quot;); FnIR-&gt;print(errs()); fprintf(stderr, &quot;\n&quot;); &#125; &#125; else &#123; // Skip token for error recovery. getNextToken(); &#125; &#125; static void HandleTopLevelExpression() &#123; // Evaluate a top-level expression into an anonymous function. if (auto FnAST = ParseTopLevelExpr()) &#123; if (auto *FnIR = FnAST-&gt;codegen()) &#123; fprintf(stderr, &quot;Read top-level expression:&quot;); FnIR-&gt;print(errs()); fprintf(stderr, &quot;\n&quot;); &#125; &#125; else &#123; // Skip token for error recovery. getNextToken(); &#125; &#125; /// top ::= definition | external | expression | &apos;;&apos; static void MainLoop() &#123; while (true) &#123; fprintf(stderr, &quot;ready&gt; &quot;); switch (CurTok) &#123; case tok_eof: return; case &apos;;&apos;: // ignore top-level semicolons. getNextToken(); break; case tok_def: HandleDefinition(); break; case tok_extern: HandleExtern(); break; default: HandleTopLevelExpression(); break; &#125; &#125; &#125; //===----------------------------------------------------------------------===// // Main driver code. //===----------------------------------------------------------------------===// int main() &#123; // Install standard binary operators. // 1 is lowest precedence. BinopPrecedence[&apos;&lt;&apos;] = 10; BinopPrecedence[&apos;+&apos;] = 20; BinopPrecedence[&apos;-&apos;] = 20; BinopPrecedence[&apos;*&apos;] = 40; // highest. // Prime the first token. fprintf(stderr, &quot;ready&gt; &quot;); getNextToken(); // Make the module, which holds all the code. TheModule = std::make_unique&lt;Module&gt;(&quot;my cool jit&quot;, TheContext); // Run the main &quot;interpreter loop&quot; now. MainLoop(); // Print out all of the generated code. TheModule-&gt;print(errs(), nullptr); return 0; &#125;</span><br></pre></td></tr></table></figure>


更多信息：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo `llvm-config-9 --cxxflags --ldflags --system-libs --libs core` -I/usr/lib/llvm-9/include -std=c++11 -fno-exceptions -D_GNU_SOURCE -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -L/usr/lib/llvm-9/lib -lLLVM-9</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd --version ldd (Ubuntu GLIBC 2.23-0ubuntu11) 2.23 ....</span><br></pre></td></tr></table></figure>


加

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-stdlib=libc++</span><br></pre></td></tr></table></figure>


也无济于事。

Ubuntu版本：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -a No LSB modules are available. Distributor ID: Ubuntu Description: Ubuntu 16.04.6 LTS Release: 16.04 Codename: xenial</span><br></pre></td></tr></table></figure>


如何解决此错误？

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：1</strong></p>

如您所知，std :: make_unique至少需要c ++ 14，而llvm-config扩展提供的-std = c ++ 11标志会覆盖您提供的标志。 作为一种快速的解决方法，您只需将-std = c ++ 17移动到llvm-config扩展的右侧： 这意味着clang将接收矛盾的参数（-std = c ++ 11和-std = c ++ 17），但是以我的经验，最右边的将是生效的。 参见： https : //godbolt.org/z/xwujes

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang++-9 -g -O3 toy.cpp `llvm-config-9 --cxxflags --ldflags --system-libs --libs core` -std=c++17 -o toy</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../alert为什么显示延迟警报堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../alert为什么显示延迟警报堆栈内存溢出.html" itemprop="url">alert为什么显示延迟警报堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
Why the Delayed Alert Display?


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
场景： 我正在玩访问和显示远程图像，以了解Combine的各种通知标记/协议。

一个目标： 访问错误的URL应该立即显示Alert（）。

现实： 警报后显示然后第二请求和超越。

这是主（调用）视图：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Combine import SwiftUI struct ContentView: View &#123; @EnvironmentObject var settings: MySettings @State private var url: String = &quot;https://garbage.com&quot; // ...purposely set to display alert. @State private var image: URLImage = URLImage() @State private var angelFish: Image = Image(&quot;QueenAngelfish&quot;) @State private var isPresented = false var body: some View &#123; ZStack &#123; Color.green NavigationView &#123; VStack &#123; Button(action: &#123; self.url = &quot;garbage.com&quot; self.isPresented = self.image.imageLoader.isPresented self.image.imageLoader.load(url: URL(string: self.url)!) &#125;) &#123; Text(&quot;Get An Image&quot;) &#125; angelFish .resizable() .frame(width: 300, height: 200, alignment: .center) .padding() image .alert(isPresented: $isPresented, content: &#123; () -&gt; Alert in Alert(title: Text(verbatim: &quot;Unable to Acquire Image.&quot;)) &#125;) &#125;.navigationBarTitle(Text(settings.name)) &#125; &#125; &#125; &#125;</span><br></pre></td></tr></table></figure>


这是访问引擎：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Combine import SwiftUI enum ImageURLError: Error &#123; case dataIsNotAnImage &#125; struct URLImage: View &#123; @EnvironmentObject var settings: MySettings @ObservedObject var imageLoader: ImageLoader var placeholder: Image init() &#123; self.placeholder = Image(systemName: &quot;photo&quot;) self.imageLoader = ImageLoader() &#125; var body: some View &#123; VStack &#123; imageLoader.image == nil ? placeholder : Image(uiImage: imageLoader.image!) Button(action: &#123; self.settings.name = &quot;Happy Thanks Giving&quot; self.settings.isPresented = true &#125;, label: &#123; Text(&quot;Touch Me&quot;) &#125;) &#125; &#125; &#125; // ===================================================================================================== class ImageLoader: ObservableObject &#123; let id: String = UUID().uuidString var didChange = PassthroughSubject&lt;Void, Never&gt;() @Published var isPresented = false @Published var image: UIImage? &#123; didSet &#123; DispatchQueue.main.async &#123; self.didChange.send() &#125; &#125; &#125; // --------------------------------------------------------------------------- func load(url: URL) &#123; print(&quot;Hello Ric: &quot;, #function) URLSession.shared.dataTask(with: url) &#123; data, _, error in DispatchQueue.main.async &#123; if error != nil &#123; self.isPresented = true self.didChange.send() // ...attempting to activate alert(). return &#125; self.image = UIImage(data: data!) &#125; &#125;.resume() &#125; &#125;</span><br></pre></td></tr></table></figure>


由于URL错误，此代码有意造成错误。 我试图通过将布尔值“ isPresented”标志作为“ @Published”变量传递来立即通知调用例程

预期结果： 显示的警报。

实际结果： 警报将在首次尝试之后显示。

问题：如何执行即时警报显示？

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

好的，这里有几个问题，主要是关于ObservableObject用法以及将事物链接在一起的问题。 请在下面找到有效的修改后模块。 （我将一些不存在的实体替换为我的实体以进行测试）。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"> import Combine</span><br><span class="line">import SwiftUI</span><br><span class="line"></span><br><span class="line">class ImageLoader: ObservableObject &#123;</span><br><span class="line">    let id: String = UUID().uuidString</span><br><span class="line"></span><br><span class="line">    // !!! no need in didChange, @Published is already Publisher</span><br><span class="line">    // see below .onReceive for usage example</span><br><span class="line">    @Published var isPresented = false</span><br><span class="line">    @Published var image: UIImage?</span><br><span class="line"></span><br><span class="line">    func load(url: URL) &#123;</span><br><span class="line">        URLSession.shared.dataTask(with: url) &#123; data, _, error in</span><br><span class="line">            DispatchQueue.main.async &#123;</span><br><span class="line">                if error != nil &#123;</span><br><span class="line">                    self.isPresented = true</span><br><span class="line">                    return</span><br><span class="line">                &#125;</span><br><span class="line">                self.image = UIImage(data: data!)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.resume()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class MySettings: ObservableObject &#123; // &lt;&lt; reconstructed for testing</span><br><span class="line">    @Published var name = &quot;My Name&quot;</span><br><span class="line">    @Published var isPresented = false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">enum ImageURLError: Error &#123;</span><br><span class="line">    case dataIsNotAnImage</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">struct URLImage: View &#123;</span><br><span class="line">    @EnvironmentObject var settings: MySettings</span><br><span class="line">    @ObservedObject var imageLoader: ImageLoader</span><br><span class="line">    var placeholder: Image</span><br><span class="line"></span><br><span class="line">    init() &#123;</span><br><span class="line">        self.placeholder = Image(systemName: &quot;photo&quot;)</span><br><span class="line">        self.imageLoader = ImageLoader()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var body: some View &#123;</span><br><span class="line">        VStack &#123;</span><br><span class="line">            imageLoader.image == nil ?</span><br><span class="line">                placeholder : Image(uiImage: imageLoader.image!)</span><br><span class="line">            Button(action: &#123;</span><br><span class="line">                self.settings.name = &quot;Happy Thanks Giving&quot;</span><br><span class="line">                self.settings.isPresented = true</span><br><span class="line">            &#125;, label: &#123;</span><br><span class="line">                Text(&quot;Touch Me&quot;)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        .onReceive(imageLoader.$isPresented) &#123; self.settings.isPresented = $0 &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">struct ContentView: View &#123;</span><br><span class="line">    @EnvironmentObject var settings: MySettings</span><br><span class="line">    @State private var url: String = &quot;https://garbage.com&quot;  // &lt;&lt; this url is valid</span><br><span class="line">    @State private var image: URLImage = URLImage()</span><br><span class="line">    @State private var angelFish: Image = Image(&quot;QueenAngelfish&quot;)</span><br><span class="line"></span><br><span class="line">    var body: some View &#123;</span><br><span class="line">        ZStack &#123;</span><br><span class="line">            Color.green</span><br><span class="line">            NavigationView &#123;</span><br><span class="line">                VStack &#123;</span><br><span class="line">                    Button(action: &#123;</span><br><span class="line">                        self.url = &quot;garbage.com&quot; // &lt;&lt; this url is not valid [to test alert]</span><br><span class="line">                        self.image.imageLoader.load(url: URL(string: self.url)!)</span><br><span class="line">                    &#125;) &#123;</span><br><span class="line">                        Text(&quot;Get An Image&quot;)</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    angelFish</span><br><span class="line">                        .resizable()</span><br><span class="line">                        .frame(width: 300, height: 200, alignment: .center)</span><br><span class="line">                        .padding()</span><br><span class="line">                    image</span><br><span class="line">                        .alert(isPresented: $settings.isPresented) &#123;</span><br><span class="line">                            Alert(title: Text(verbatim: &quot;Unable to Acquire Image.&quot;))</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;.navigationBarTitle(Text(settings.name))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">struct TestDelayedAlert_Previews: PreviewProvider &#123;</span><br><span class="line">    static var previews: some View &#123;</span><br><span class="line">        ContentView().environmentObject(MySettings())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../akkanet是否有任何选择可以知道分片实体是通过恢复重新启动的rememberentitytrue堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../akkanet是否有任何选择可以知道分片实体是通过恢复重新启动的rememberentitytrue堆栈内存溢出.html" itemprop="url">akkanet是否有任何选择可以知道分片实体是通过恢复重新启动的rememberentitytrue堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
Is there any option to know the sharded entity is re-started by recovery(remember-entity=true)


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我已使用Remember-entities = true启用了群集分片。 因此，当我重新启动时，我的应用程序实体正在恢复，但是我想知道该实体已恢复或是新创建的，有什么办法可以实现？

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

通常，在创建永久分片actor时，这意味着它首先已初始化。 我建议为新的actor创建初始化消息，以便在actor内部可以轻松检测到是否已初始化。 我认为akka .net并没有开箱即用的东西。 例如，假设您的AuctionActor收到两条消息： 如果您向GetBids询问id = x的actor，则akka .net将检查它是否存在于集群中，如果不存在则创建它。 因此，当您的演员开始时，您无法发现这次拍卖是否已经开始。 您可以创建第三条初始化消息： 然后，当GetBids消息出现时，您可以检查actor内部是否已初始化。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> PlaceBid</span><br><span class="line"></span><br><span class="line">GetBids</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../azuredevopsAzureDevOps将Nuget发布到托管供稿堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../azuredevopsAzureDevOps将Nuget发布到托管供稿堆栈内存溢出.html" itemprop="url">azuredevopsAzureDevOps将Nuget发布到托管供稿堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
Azure DevOps publish Nuget to hosted feed


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我对使用托管（免费）AzureDevops管道有疑问。 我有一个小型的.NET Core项目，我想创建一个Azure Devops管道，完成以下操作

我在Azure Devops中的项目上具有以下供稿设置

哪个具有此提要的连接信息

它还具有以下安全性（请注意，Project Collection Build Service设置为“ Contributor”）

正如微软官方文档中本段所述

若要发布到Azure Artifacts feed，请将Project Collection Build Service身份设置为该Feed的贡献者。

然后，我有此构建管道设置（Yaml）

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ASP.NET Core # Build and test ASP.NET Core projects targeting .NET Core. # Add steps that run tests, create a NuGet package, deploy, and more: # https://docs.microsoft.com/azure/devops/pipelines/languages/dotnet-core trigger: - master pool: vmImage: &apos;ubuntu-latest&apos; variables: buildConfiguration: &apos;Release&apos; Major: &apos;1&apos; Minor: &apos;0&apos; Patch: &apos;0&apos; steps: - task: DotNetCoreCLI@2 displayName: &apos;Restore&apos; inputs: command: restore projects: &apos;**/MathsLib.csproj&apos; - task: DotNetCoreCLI@2 displayName: Build inputs: command: build projects: &apos;**/MathsLib.csproj&apos; arguments: &apos;--configuration Release&apos; # Update this to match your need - task: DotNetCoreCLI@2 inputs: command: &apos;pack&apos; projects: &apos;**/MathsLib.csproj&apos; outputDir: &apos;$(Build.ArtifactStagingDirectory)&apos; versioningScheme: &apos;byPrereleaseNumber&apos; majorVersion: &apos;1&apos; minorVersion: &apos;0&apos; patchVersion: &apos;0&apos; - task: NuGetAuthenticate@0 displayName: &apos;NuGet Authenticate&apos; - task: NuGetCommand@2 displayName: &apos;NuGet push&apos; inputs: command: push publishVstsFeed: &apos;nugetprojectstestfeed&apos; allowPackageConflicts: true</span><br></pre></td></tr></table></figure>


整个管道工作正常，直到Nuget推送为止。 如图所示

但是如果我查看异常，我会看到这种情况

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">##[warning]Could not create provenance session: &#123;&quot;statusCode&quot;:500,&quot;result&quot;:&#123;&quot;$id&quot;:&quot;1&quot;,&quot;innerException&quot;:null,&quot;message&quot;:&quot;The feed with ID &apos;nugetprojectstestfeed&apos; doesn&apos;t exist.&quot;,&quot;typeName&quot;:&quot;Microsoft.VisualStudio.Services.Feed.WebApi.FeedIdNotFoundException, Microsoft.VisualStudio.Services.Feed.WebApi&quot;,&quot;typeKey&quot;:&quot;FeedIdNotFoundException&quot;,&quot;errorCode&quot;:0,&quot;eventId&quot;:3000&#125;&#125; [command]/usr/bin/mono /opt/hostedtoolcache/NuGet/4.1.0/x64/nuget.exe push /home/vsts/work/1/a/MathsLib.1.0.0-CI-20191114-115941.nupkg -NonInteractive -Source https://pkgs.dev.azure.com/XXXXX/_packaging/nugetprojectstestfeed/nuget/v3/index.json -ApiKey VSTS -Verbosity Detailed System.AggregateException: One or more errors occurred. (Unable to load the service index for source https://pkgs.dev.azure.com/XXXXX/_packaging/nugetprojectstestfeed/nuget/v3/index.json.) ---&gt; NuGet.Protocol.Core.Types.FatalProtocolException: Unable to load the service index for source https://pkgs.dev.azure.com/XXXXX/_packaging/nugetprojectstestfeed/nuget/v3/index.json. ---&gt; System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found - The feed with ID &apos;nugetprojectstestfeed&apos; doesn&apos;t exist. (DevOps Activity ID: F123AC3A-8E75-4D3A-B3B6-60EC4510FF54)).</span><br></pre></td></tr></table></figure>


这是我最初的提要

但这就是错误消息中显示的内容

因此，看起来它试图访问某个根项目中的提要，而不是我在Azure DevOps中设置的“ NuGetProjects”项目。 我是否缺少一些设置/配置来告诉它定位“ NuGetProjects”项目中的提要

正如我所说的，它似乎是在为构建管道为其设置的特定项目中寻找一些顶级提要

逐步使用新的Feed

因此，为了完整起见，这里完整介绍了我如何创建项目供稿以及它在事物组织中的位置（我尝试创建一个新的供稿，作为建议的尝试）

我有一个组织“ sachabarber2019”，其中包含这些项目

然后，我在组织的一个项目中创建了此提要

使用这些设置

这是当前的构建管道

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ASP.NET Core # Build and test ASP.NET Core projects targeting .NET Core. # Add steps that run tests, create a NuGet package, deploy, and more: # https://docs.microsoft.com/azure/devops/pipelines/languages/dotnet-core trigger: - master pool: vmImage: &apos;ubuntu-latest&apos; variables: buildConfiguration: &apos;Release&apos; Major: &apos;1&apos; Minor: &apos;0&apos; Patch: &apos;0&apos; steps: - task: DotNetCoreCLI@2 displayName: &apos;Restore&apos; inputs: command: restore projects: &apos;**/MathsLib.csproj&apos; - task: DotNetCoreCLI@2 displayName: Build inputs: command: build projects: &apos;**/MathsLib.csproj&apos; arguments: &apos;--configuration Release&apos; # Update this to match your need - task: DotNetCoreCLI@2 inputs: command: &apos;pack&apos; projects: &apos;**/MathsLib.csproj&apos; outputDir: &apos;$(Build.ArtifactStagingDirectory)&apos; versioningScheme: &apos;byPrereleaseNumber&apos; majorVersion: &apos;1&apos; minorVersion: &apos;0&apos; patchVersion: &apos;0&apos; - task: NuGetCommand@2 displayName: &apos;NuGet push&apos; inputs: command: push feedsToUse: select packagesToPush: &apos;$(Build.ArtifactStagingDirectory)/**/*.nupkg;!$(Build.ArtifactStagingDirectory)/**/*.symbols.nupkg&apos; vstsFeed: anotherfeed nuGetFeedType: internal publishVstsFeed: anotherfeed allowPackageConflicts: true</span><br></pre></td></tr></table></figure>


和以前一样，我遇到了同样的错误

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">##[section]Starting: NuGet push ============================================================================== Task : NuGet Description : Restore, pack, or push NuGet packages, or run a NuGet command. Supports NuGet.org and authenticated feeds like Azure Artifacts and MyGet. Uses NuGet.exe and works with .NET Framework apps. For .NET Core and .NET Standard apps, use the .NET Core task. Version : 2.161.0 Author : Microsoft Corporation Help : https://docs.microsoft.com/azure/devops/pipelines/tasks/package/nuget ============================================================================== Caching tool: NuGet 4.1.0 x64 Found tool in cache: NuGet 4.1.0 x64 Resolved from tool cache: 4.1.0 Using version: 4.1.0 Found tool in cache: NuGet 4.1.0 x64 SYSTEMVSSCONNECTION exists true SYSTEMVSSCONNECTION exists true SYSTEMVSSCONNECTION exists true Detected NuGet version 4.1.0.2450 / 4.1.0 ##[warning]Could not create provenance session: &#123;&quot;statusCode&quot;:500,&quot;result&quot;:&#123;&quot;$id&quot;:&quot;1&quot;,&quot;innerException&quot;:null,&quot;message&quot;:&quot;The feed with ID &apos;anotherfeed&apos; doesn&apos;t exist.&quot;,&quot;typeName&quot;:&quot;Microsoft.VisualStudio.Services.Feed.WebApi.FeedIdNotFoundException, Microsoft.VisualStudio.Services.Feed.WebApi&quot;,&quot;typeKey&quot;:&quot;FeedIdNotFoundException&quot;,&quot;errorCode&quot;:0,&quot;eventId&quot;:3000&#125;&#125; [command]/usr/bin/mono /opt/hostedtoolcache/NuGet/4.1.0/x64/nuget.exe push /home/vsts/work/1/a/MathsLib.1.0.0-CI-20191120-121118.nupkg -NonInteractive -Source https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json -ApiKey VSTS -Verbosity Detailed NuGet Version: 4.1.0.2450 mono-sgen: /home/vsts/work/_tasks/NuGetCommand_333b11bd-d341-40d9-afcf-b32d5ce6f23b/2.161.0/CredentialProvider/CredentialProvider.TeamBuild.exe -uri https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json -nonInteractive -verbosity detailed mono-sgen: URI Prefixes: mono-sgen: https://dev.azure.com/sachabarber2019/ mono-sgen: https://pkgs.dev.azure.com/sachabarber2019/ mono-sgen: https://pkgsproduks1.pkgs.visualstudio.com/ mono-sgen: https://pkgs.dev.azure.com/sachabarber2019/ mono-sgen: https://sachabarber2019.pkgs.visualstudio.com/ mono-sgen: https://pkgs.dev.azure.com/sachabarber2019/ mono-sgen: URI: https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json mono-sgen: Is retry: False mono-sgen: Matched prefix: https://pkgs.dev.azure.com/sachabarber2019/ System.AggregateException: One or more errors occurred. (Unable to load the service index for source https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json.) ---&gt; NuGet.Protocol.Core.Types.FatalProtocolException: Unable to load the service index for source https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json. ---&gt; System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found - The feed with ID &apos;anotherfeed&apos; doesn&apos;t exist. (DevOps Activity ID: 9E8C7E28-9D51-44A1-9286-8F6F839BCBD6)). at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode () [0x00040] in &lt;7ecf813f2d314058b05c6c092c47b77a&gt;:0 at NuGet.Protocol.HttpSource+&lt;&gt;c__DisplayClass12_0`1[T].&lt;GetAsync&gt;b__0 (System.Threading.CancellationToken lockedToken) [0x004a8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Common.ConcurrencyUtilities.ExecuteWithFileLockedAsync[T] (System.String filePath, System.Func`2[T,TResult] action, System.Threading.CancellationToken token) [0x0024a] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.HttpSource.GetAsync[T] (NuGet.Protocol.HttpSourceCachedRequest request, System.Func`2[T,TResult] processAsync, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x000ed] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3 (NuGet.Protocol.Core.Types.SourceRepository source, System.DateTime utcNow, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x00207] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 --- End of inner exception stack trace --- at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3 (NuGet.Protocol.Core.Types.SourceRepository source, System.DateTime utcNow, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x002d5] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.ServiceIndexResourceV3Provider.TryCreate (NuGet.Protocol.Core.Types.SourceRepository source, System.Threading.CancellationToken token) [0x00233] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] (System.Threading.CancellationToken token) [0x000b8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.PackageUpdateResourceV3Provider.TryCreate (NuGet.Protocol.Core.Types.SourceRepository source, System.Threading.CancellationToken token) [0x0007d] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] (System.Threading.CancellationToken token) [0x000b8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] () [0x0006e] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Commands.CommandRunnerUtility.GetPackageUpdateResource (NuGet.Configuration.IPackageSourceProvider sourceProvider, System.String source) [0x000f1] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Commands.PushRunner.Run (NuGet.Configuration.ISettings settings, NuGet.Configuration.IPackageSourceProvider sourceProvider, System.String packagePath, System.String source, System.String apiKey, System.String symbolSource, System.String symbolApiKey, System.Int32 timeoutSeconds, System.Boolean disableBuffering, System.Boolean noSymbols, NuGet.Common.ILogger logger) [0x00133] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.CommandLine.PushCommand.ExecuteCommandAsync () [0x001b0] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 --- End of inner exception stack trace --- at System.Threading.Tasks.Task.ThrowIfExceptional (System.Boolean includeTaskCanceledExceptions) [0x00011] in &lt;285579f54af44a2ca048dad6be20e190&gt;:0 at System.Threading.Tasks.Task.Wait (System.Int32 millisecondsTimeout, System.Threading.CancellationToken cancellationToken) [0x00043] in &lt;285579f54af44a2ca048dad6be20e190&gt;:0 at System.Threading.Tasks.Task.Wait () [0x00000] in &lt;285579f54af44a2ca048dad6be20e190&gt;:0 at NuGet.CommandLine.Command.Execute () [0x000bd] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.CommandLine.Program.MainCore (System.String workingDirectory, System.String[] args) [0x001f3] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 ---&gt; (Inner Exception #0) NuGet.Protocol.Core.Types.FatalProtocolException: Unable to load the service index for source https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json. ---&gt; System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found - The feed with ID &apos;anotherfeed&apos; doesn&apos;t exist. (DevOps Activity ID: 9E8C7E28-9D51-44A1-9286-8F6F839BCBD6)). at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode () [0x00040] in &lt;7ecf813f2d314058b05c6c092c47b77a&gt;:0 at NuGet.Protocol.HttpSource+&lt;&gt;c__DisplayClass12_0`1[T].&lt;GetAsync&gt;b__0 (System.Threading.CancellationToken lockedToken) [0x004a8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Common.ConcurrencyUtilities.ExecuteWithFileLockedAsync[T] (System.String filePath, System.Func`2[T,TResult] action, System.Threading.CancellationToken token) [0x0024a] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.HttpSource.GetAsync[T] (NuGet.Protocol.HttpSourceCachedRequest request, System.Func`2[T,TResult] processAsync, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x000ed] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3 (NuGet.Protocol.Core.Types.SourceRepository source, System.DateTime utcNow, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x00207] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 --- End of inner exception stack trace --- at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3 (NuGet.Protocol.Core.Types.SourceRepository source, System.DateTime utcNow, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x002d5] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.ServiceIndexResourceV3Provider.TryCreate (NuGet.Protocol.Core.Types.SourceRepository source, System.Threading.CancellationToken token) [0x00233] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] (System.Threading.CancellationToken token) [0x000b8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.PackageUpdateResourceV3Provider.TryCreate (NuGet.Protocol.Core.Types.SourceRepository source, System.Threading.CancellationToken token) [0x0007d] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] (System.Threading.CancellationToken token) [0x000b8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] () [0x0006e] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Commands.CommandRunnerUtility.GetPackageUpdateResource (NuGet.Configuration.IPackageSourceProvider sourceProvider, System.String source) [0x000f1] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Commands.PushRunner.Run (NuGet.Configuration.ISettings settings, NuGet.Configuration.IPackageSourceProvider sourceProvider, System.String packagePath, System.String source, System.String apiKey, System.String symbolSource, System.String symbolApiKey, System.Int32 timeoutSeconds, System.Boolean disableBuffering, System.Boolean noSymbols, NuGet.Common.ILogger logger) [0x00133] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.CommandLine.PushCommand.ExecuteCommandAsync () [0x001b0] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 &lt;--- ##[error]The nuget command failed with exit code(1) and error(System.AggregateException: One or more errors occurred. (Unable to load the service index for source https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json.) ---&gt; NuGet.Protocol.Core.Types.FatalProtocolException: Unable to load the service index for source https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json. ---&gt; System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found - The feed with ID &apos;anotherfeed&apos; doesn&apos;t exist. (DevOps Activity ID: 9E8C7E28-9D51-44A1-9286-8F6F839BCBD6)). at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode () [0x00040] in &lt;7ecf813f2d314058b05c6c092c47b77a&gt;:0 at NuGet.Protocol.HttpSource+&lt;&gt;c__DisplayClass12_0`1[T].&lt;GetAsync&gt;b__0 (System.Threading.CancellationToken lockedToken) [0x004a8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Common.ConcurrencyUtilities.ExecuteWithFileLockedAsync[T] (System.String filePath, System.Func`2[T,TResult] action, System.Threading.CancellationToken token) [0x0024a] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.HttpSource.GetAsync[T] (NuGet.Protocol.HttpSourceCachedRequest request, System.Func`2[T,TResult] processAsync, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x000ed] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3 (NuGet.Protocol.Core.Types.SourceRepository source, System.DateTime utcNow, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x00207] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 --- End of inner exception stack trace --- at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3 (NuGet.Protocol.Core.Types.SourceRepository source, System.DateTime utcNow, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x002d5] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.ServiceIndexResourceV3Provider.TryCreate (NuGet.Protocol.Core.Types.SourceRepository source, System.Threading.CancellationToken token) [0x00233] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] (System.Threading.CancellationToken token) [0x000b8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.PackageUpdateResourceV3Provider.TryCreate (NuGet.Protocol.Core.Types.SourceRepository source, System.Threading.CancellationToken token) [0x0007d] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] (System.Threading.CancellationToken token) [0x000b8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] () [0x0006e] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Commands.CommandRunnerUtility.GetPackageUpdateResource (NuGet.Configuration.IPackageSourceProvider sourceProvider, System.String source) [0x000f1] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Commands.PushRunner.Run (NuGet.Configuration.ISettings settings, NuGet.Configuration.IPackageSourceProvider sourceProvider, System.String packagePath, System.String source, System.String apiKey, System.String symbolSource, System.String symbolApiKey, System.Int32 timeoutSeconds, System.Boolean disableBuffering, System.Boolean noSymbols, NuGet.Common.ILogger logger) [0x00133] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.CommandLine.PushCommand.ExecuteCommandAsync () [0x001b0] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 --- End of inner exception stack trace --- at System.Threading.Tasks.Task.ThrowIfExceptional (System.Boolean includeTaskCanceledExceptions) [0x00011] in &lt;285579f54af44a2ca048dad6be20e190&gt;:0 at System.Threading.Tasks.Task.Wait (System.Int32 millisecondsTimeout, System.Threading.CancellationToken cancellationToken) [0x00043] in &lt;285579f54af44a2ca048dad6be20e190&gt;:0 at System.Threading.Tasks.Task.Wait () [0x00000] in &lt;285579f54af44a2ca048dad6be20e190&gt;:0 at NuGet.CommandLine.Command.Execute () [0x000bd] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.CommandLine.Program.MainCore (System.String workingDirectory, System.String[] args) [0x001f3] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 ---&gt; (Inner Exception #0) NuGet.Protocol.Core.Types.FatalProtocolException: Unable to load the service index for source https://pkgs.dev.azure.com/sachabarber2019/_packaging/anotherfeed/nuget/v3/index.json. ---&gt; System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found - The feed with ID &apos;anotherfeed&apos; doesn&apos;t exist. (DevOps Activity ID: 9E8C7E28-9D51-44A1-9286-8F6F839BCBD6)). at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode () [0x00040] in &lt;7ecf813f2d314058b05c6c092c47b77a&gt;:0 at NuGet.Protocol.HttpSource+&lt;&gt;c__DisplayClass12_0`1[T].&lt;GetAsync&gt;b__0 (System.Threading.CancellationToken lockedToken) [0x004a8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Common.ConcurrencyUtilities.ExecuteWithFileLockedAsync[T] (System.String filePath, System.Func`2[T,TResult] action, System.Threading.CancellationToken token) [0x0024a] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.HttpSource.GetAsync[T] (NuGet.Protocol.HttpSourceCachedRequest request, System.Func`2[T,TResult] processAsync, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x000ed] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3 (NuGet.Protocol.Core.Types.SourceRepository source, System.DateTime utcNow, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x00207] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 --- End of inner exception stack trace --- at NuGet.Protocol.ServiceIndexResourceV3Provider.GetServiceIndexResourceV3 (NuGet.Protocol.Core.Types.SourceRepository source, System.DateTime utcNow, NuGet.Common.ILogger log, System.Threading.CancellationToken token) [0x002d5] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.ServiceIndexResourceV3Provider.TryCreate (NuGet.Protocol.Core.Types.SourceRepository source, System.Threading.CancellationToken token) [0x00233] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] (System.Threading.CancellationToken token) [0x000b8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.PackageUpdateResourceV3Provider.TryCreate (NuGet.Protocol.Core.Types.SourceRepository source, System.Threading.CancellationToken token) [0x0007d] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] (System.Threading.CancellationToken token) [0x000b8] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Protocol.Core.Types.SourceRepository.GetResourceAsync[T] () [0x0006e] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Commands.CommandRunnerUtility.GetPackageUpdateResource (NuGet.Configuration.IPackageSourceProvider sourceProvider, System.String source) [0x000f1] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.Commands.PushRunner.Run (NuGet.Configuration.ISettings settings, NuGet.Configuration.IPackageSourceProvider sourceProvider, System.String packagePath, System.String source, System.String apiKey, System.String symbolSource, System.String symbolApiKey, System.Int32 timeoutSeconds, System.Boolean disableBuffering, System.Boolean noSymbols, NuGet.Common.ILogger logger) [0x00133] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 at NuGet.CommandLine.PushCommand.ExecuteCommandAsync () [0x001b0] in &lt;d0f788a4af354971807e5d8ca6fc682e&gt;:0 &lt;---) ##[error]Packages failed to publish ##[section]Finishing: NuGet push</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：0</strong></p>

您错过了在NuGetCommand @ 2任务中设置一些必需参数的过程。 尝试这个： 如果我们查看NuGet任务的文档 ，则对于“ push”命令，某些参数是必需的。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- task: NuGetCommand@2</span><br><span class="line"> displayName: &apos;NuGet push&apos;</span><br><span class="line"> inputs:</span><br><span class="line">   command: push</span><br><span class="line">   feedsToUse: select</span><br><span class="line">   vstsFeed: nugetprojectstestfeed</span><br><span class="line">   nuGetFeedType: internal</span><br><span class="line">   publishVstsFeed: nugetprojectstestfeed</span><br><span class="line">   allowPackageConflicts: true</span><br></pre></td></tr></table></figure>

<p><strong>===============&gt;&gt;#2 票数：0</strong></p>

Azure DevOps将Nuget发布到托管供稿 那是因为您使用的原始Feed连接不正确。 URL中不应包含NuGetProjects项目。 众所周知， Azure工件用于组织而不是一个项目 ，因此，当我们连接工件时，连接中不应包含项目信息。 当我们连接到工件时，可以从“ 连接到提要 ”选项卡中获得连接链接： 该URL是Package Source URL， 而不是 Browser中的URL，例如： 因此，您应该更改原始的Feed连接。 检查文档“ Azure DevOps Services和TFS中的NuGet程序包入门”，了解一些详细信息。 希望这可以帮助。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://pkgs.dev.azure.com/&lt;OrganizationName&gt;/_packaging/&lt;FeedName&gt;/nuget/v3/index.json</span><br></pre></td></tr></table></figure>

<p><strong>===============&gt;&gt;#3 票数：0</strong></p>

几天前，我创建了一个新的Azure Artifacts feed，并在尝试创建类似于此示例的.NET Core / Standard NuGet构建管道时遇到了麻烦。 我的CI管道的其余部分运行良好，但是尽管我试图找到一种解决方法，但每次NuGet Push任务都失败，并且Azure管道日志中出现了完全相同的错误： ID为“ {my_feed_name}”的供稿不存在。 由于该提要确实存在，因此我进行了更多挖掘，并发现了其他类似报告，指出了Azure Pipelines中的错误。 显然，Microsoft最近将新供稿的默认范围级别更改为Project而不是Organization，这破坏了一些Azure Pipeline任务。 较旧的供稿似乎不受此问题的影响。 看到这个论坛帖子 ： 现在，默认情况下，新的提要在项目范围内，并且无法部署管道任务所需的修复程序。 我们正在推出一个修补程序，以更新到最新的管道任务版本，并且应该在一天结束之前发布。 希望微软会尽快解决此问题。
**===============>>#4 票数：0**

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://luna.newban.cn../../cWindows编译v8时出现pkgconfig错误堆栈内存溢出.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="开发者">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="开发者博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../cWindows编译v8时出现pkgconfig错误堆栈内存溢出.html" itemprop="url">cWindows编译v8时出现pkgconfig错误堆栈内存溢出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-08-28T00:00:00+00:00">
                2020-08-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="原文标题"><a href="#原文标题" class="headerlink" title="原文标题:"></a>原文标题:</h2>
pkg-config errors on windows compiling v8


<h2 id="问题"><a href="#问题" class="headerlink" title="问题:"></a>问题:</h2>
我正在尝试在Windows上构建ry / v8worker2。 一切正常，直到我进行go test为止，然后抱怨pkg-config设置。

这是生成的pkg-config文件：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Name: v8 Description: v8 Version: xxx Cflags: -IC:\Users\andyrea\go\src\github.com\reaandrew\v8worker2\v8\include Libs: out/v8build/obj/v8_monolith.lib</span><br></pre></td></tr></table></figure>


这是执行go test的输出：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go build github.com/reaandrew/v8worker2: invalid flag in pkg-config --libs: out/v8build/obj/v8_monolith.lib FAIL github.com/reaandrew/v8worker2 [build failed]</span><br></pre></td></tr></table></figure>


就像我说的那样，整个编译过程都很好，并且创建了文件，但是最后有些不正确。 我尝试对build.py进行的唯一修改，使其在Windows上可以正常运行，如下所示：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff --git a/build.py b/build.py index 2cb5e6a..6f482c8 100755 --- a/build.py +++ b/build.py @@ -82,7 +82,7 @@ GCLIENT_SOLUTION = [ ] def main(): - lib_fn = os.path.join(prebuilt_path, platform_name(), &quot;libv8_monolith.a&quot;) + lib_fn = os.path.join(root_path.replace(&quot;\\&quot;,&quot;/&quot;),&quot;/out/v8build/obj/v8_monolith.lib&quot;) if args.rebuild or not os.path.exists(lib_fn): print(&quot;Rebuilding V8&quot;) lib_fn = Rebuild() @@ -99,9 +99,9 @@ def Rebuild(): EnsureDeps(v8_path) - gn_path = os.path.join(depot_tools, &quot;gn&quot;) + gn_path = os.path.join(depot_tools, &quot;gn.bat&quot;) assert os.path.exists(gn_path) - ninja_path = os.path.join(depot_tools, &quot;ninja&quot;) + ninja_path = os.path.join(depot_tools, &quot;ninja.exe&quot;) assert os.path.exists(ninja_path) gn_args = GN_ARGS.replace(&apos;\n&apos;, &apos; &apos;) @@ -144,7 +144,8 @@ def EnsureDeps(v8_path): env = os.environ.copy() # gclient needs to have depot_tools in the PATH. env[&quot;PATH&quot;] = depot_tools + os.pathsep + env[&quot;PATH&quot;] - subprocess.check_call([&quot;gclient&quot;, &quot;sync&quot;, &quot;--spec&quot;, spec], + gclient_path = os.path.join(depot_tools, &quot;gclient.bat&quot;) + subprocess.check_call([gclient_path, &quot;sync&quot;, &quot;--spec&quot;, spec], cwd=root_path, env=env)</span><br></pre></td></tr></table></figure>


关于如何在Windows上编译此项目的文献很少（我可以找到）。

更新：如果我将pkg-config更改为：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Name: v8 Description: v8 Version: xxx Cflags: -Iv8/include Libs: -Lout/v8build/obj/v8_monolith.lib</span><br></pre></td></tr></table></figure>


那么go test的输出现在是：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># github.com/reaandrew/v8worker2 C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `Recv&apos;: ./binding.cc:333: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9626: undefined reference to `v8::HandleScope::CreateHandle(v8::internal::Isolate*, v8::internal::Object*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `Recv&apos;: ./binding.cc:338: undefined reference to `v8::Value::IsFunction() const&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9717: undefined reference to `v8::V8::DisposeGlobal(v8::internal::Object**)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9670: undefined reference to `v8::V8::GlobalizeReference(v8::internal::Isolate*, v8::internal::Object**)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `Recv&apos;: ./binding.cc:333: undefined reference to `v8::HandleScope::~HandleScope()&apos; ./binding.cc:333: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9385: undefined reference to `v8::Locker::Initialize(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `Send&apos;: ./binding.cc:351: undefined reference to `v8::EscapableHandleScope::EscapableHandleScope(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9626: undefined reference to `v8::HandleScope::CreateHandle(v8::internal::Isolate*, v8::internal::Object*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `Send&apos;: ./binding.cc:356: undefined reference to `v8::Value::IsArrayBuffer() const&apos; ./binding.cc:359: undefined reference to `v8::ArrayBuffer::GetContents()&apos; ./binding.cc:367: undefined reference to `v8::ArrayBuffer::New(v8::Isolate*, void*, unsigned long long, v8::ArrayBufferCreationMode)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:1031: undefined reference to `v8::EscapableHandleScope::Escape(v8::internal::Object**)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:1022: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `Send&apos;: ./binding.cc:350: undefined reference to `v8::Locker::~Locker()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:1022: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `Send&apos;: ./binding.cc:350: undefined reference to `v8::Locker::~Locker()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `Print&apos;: ./binding.cc:313: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; ./binding.cc:319: undefined reference to `v8::String::Utf8Value::Utf8Value(v8::Local&lt;v8::Value&gt;)&apos; ./binding.cc:319: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:313: undefined reference to `v8::HandleScope::~HandleScope()&apos; ./binding.cc:313: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; ./binding.cc:319: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:313: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `ExitOnPromiseRejectCallback(v8::PromiseRejectMessage)&apos;: ./binding.cc:65: undefined reference to `v8::Isolate::GetCurrent()&apos; ./binding.cc:68: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9626: undefined reference to `v8::HandleScope::CreateHandle(v8::internal::Isolate*, v8::internal::Object*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `ExitOnPromiseRejectCallback(v8::PromiseRejectMessage)&apos;: ./binding.cc:73: undefined reference to `v8::Exception::CreateMessage(v8::Isolate*, v8::Local&lt;v8::Value&gt;)&apos; ./binding.cc:74: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:75: undefined reference to `v8::Context::Global()&apos; ./binding.cc:75: undefined reference to `v8::Object::Get(v8::Local&lt;v8::Value&gt;)&apos; ./binding.cc:77: undefined reference to `v8::Value::IsFunction() const&apos; ./binding.cc:80: undefined reference to `v8::Message::GetScriptOrigin() const&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10289: undefined reference to `v8::Isolate::GetCurrent()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10289: undefined reference to `v8::Isolate::GetCurrentContext()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10289: undefined reference to `v8::Value::ToString(v8::Local&lt;v8::Context&gt;) const&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `ExitOnPromiseRejectCallback(v8::PromiseRejectMessage)&apos;: ./binding.cc:82: undefined reference to `v8::Message::GetScriptResourceName() const&apos; ./binding.cc:86: undefined reference to `v8::Context::Global()&apos; ./binding.cc:86: undefined reference to `v8::Function::Call(v8::Local&lt;v8::Value&gt;, int, v8::Local&lt;v8::Value&gt;*)&apos; ./binding.cc:90: undefined reference to `v8::Message::PrintCurrentStackTrace(v8::Isolate*, _iobuf*)&apos; ./binding.cc:68: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `ExceptionString[abi:cxx11](worker_s*, v8::TryCatch*)&apos;: ./binding.cc:126: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9626: undefined reference to `v8::HandleScope::CreateHandle(v8::internal::Isolate*, v8::internal::Object*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `ExceptionString[abi:cxx11](worker_s*, v8::TryCatch*)&apos;: ./binding.cc:128: undefined reference to `v8::TryCatch::Exception() const&apos; ./binding.cc:128: undefined reference to `v8::String::Utf8Value::Utf8Value(v8::Local&lt;v8::Value&gt;)&apos; ./binding.cc:131: undefined reference to `v8::TryCatch::Message() const&apos; ./binding.cc:140: undefined reference to `v8::Message::GetScriptOrigin() const&apos; ./binding.cc:140: undefined reference to `v8::String::Utf8Value::Utf8Value(v8::Local&lt;v8::Value&gt;)&apos; ./binding.cc:142: undefined reference to `v8::Message::GetLineNumber() const&apos; ./binding.cc:151: undefined reference to `v8::Message::GetSourceLine() const&apos; ./binding.cc:151: undefined reference to `v8::String::Utf8Value::Utf8Value(v8::Local&lt;v8::Value&gt;)&apos; ./binding.cc:158: undefined reference to `v8::Message::GetStartColumn(v8::Local&lt;v8::Context&gt;) const&apos; ./binding.cc:162: undefined reference to `v8::Message::GetEndColumn(v8::Local&lt;v8::Context&gt;) const&apos; ./binding.cc:167: undefined reference to `v8::TryCatch::StackTrace() const&apos; ./binding.cc:167: undefined reference to `v8::String::Utf8Value::Utf8Value(v8::Local&lt;v8::Value&gt;)&apos; ./binding.cc:167: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:151: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:140: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:128: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:126: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:8779: undefined reference to `v8::V8::FromJustIsNothing()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:8779: undefined reference to `v8::V8::FromJustIsNothing()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `ExceptionString[abi:cxx11](worker_s*, v8::TryCatch*)&apos;: ./binding.cc:128: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:126: undefined reference to `v8::HandleScope::~HandleScope()&apos; ./binding.cc:151: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:140: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:167: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9385: undefined reference to `v8::Locker::Initialize(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7307: undefined reference to `v8::Isolate::Enter()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load&apos;: ./binding.cc:195: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9626: undefined reference to `v8::HandleScope::CreateHandle(v8::internal::Isolate*, v8::internal::Object*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9248: undefined reference to `v8::Context::Enter()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load&apos;: ./binding.cc:200: undefined reference to `v8::TryCatch::TryCatch(v8::Isolate*)&apos; ./binding.cc:202: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:203: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:207: undefined reference to `v8::Script::Compile(v8::Local&lt;v8::String&gt;, v8::ScriptOrigin*)&apos; ./binding.cc:215: undefined reference to `v8::Script::Run()&apos; ./binding.cc:200: undefined reference to `v8::TryCatch::~TryCatch()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9250: undefined reference to `v8::Context::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load&apos;: ./binding.cc:195: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7310: undefined reference to `v8::Isolate::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load&apos;: ./binding.cc:193: undefined reference to `v8::Locker::~Locker()&apos; ./binding.cc:210: undefined reference to `v8::TryCatch::HasCaught() const&apos; ./binding.cc:218: undefined reference to `v8::TryCatch::HasCaught() const&apos; ./binding.cc:200: undefined reference to `v8::TryCatch::~TryCatch()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9250: undefined reference to `v8::Context::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load&apos;: ./binding.cc:195: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7310: undefined reference to `v8::Isolate::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load&apos;: ./binding.cc:193: undefined reference to `v8::Locker::~Locker()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9385: undefined reference to `v8::Locker::Initialize(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7307: undefined reference to `v8::Isolate::Enter()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_send_bytes&apos;: ./binding.cc:385: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9626: undefined reference to `v8::HandleScope::CreateHandle(v8::internal::Isolate*, v8::internal::Object*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_send_bytes&apos;: ./binding.cc:389: undefined reference to `v8::TryCatch::TryCatch(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9626: undefined reference to `v8::HandleScope::CreateHandle(v8::internal::Isolate*, v8::internal::Object*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_send_bytes&apos;: ./binding.cc:398: undefined reference to `v8::ArrayBuffer::New(v8::Isolate*, void*, unsigned long long, v8::ArrayBufferCreationMode)&apos; ./binding.cc:401: undefined reference to `v8::TryCatch::HasCaught() const&apos; ./binding.cc:403: undefined reference to `v8::Context::Global()&apos; ./binding.cc:403: undefined reference to `v8::Function::Call(v8::Local&lt;v8::Value&gt;, int, v8::Local&lt;v8::Value&gt;*)&apos; ./binding.cc:405: undefined reference to `v8::TryCatch::HasCaught() const&apos; ./binding.cc:389: undefined reference to `v8::TryCatch::~TryCatch()&apos; ./binding.cc:385: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7310: undefined reference to `v8::Isolate::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_send_bytes&apos;: ./binding.cc:383: undefined reference to `v8::Locker::~Locker()&apos; ./binding.cc:389: undefined reference to `v8::TryCatch::~TryCatch()&apos; ./binding.cc:385: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7310: undefined reference to `v8::Isolate::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_send_bytes&apos;: ./binding.cc:383: undefined reference to `v8::Locker::~Locker()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `v8_init&apos;: ./binding.cc:414: undefined reference to `v8::platform::CreateDefaultPlatform(int, v8::platform::IdleTaskSupport, v8::platform::InProcessStackDumping, v8::TracingController*)&apos; ./binding.cc:415: undefined reference to `v8::V8::InitializePlatform(v8::Platform*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7229: undefined reference to `v8::ResourceConstraints::ResourceConstraints()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_new&apos;: ./binding.cc:424: undefined reference to `v8::ArrayBuffer::Allocator::NewDefaultAllocator()&apos; ./binding.cc:425: undefined reference to `v8::Isolate::New(v8::Isolate::CreateParams const&amp;)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9385: undefined reference to `v8::Locker::Initialize(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7307: undefined reference to `v8::Isolate::Enter()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_new&apos;: ./binding.cc:428: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; ./binding.cc:437: undefined reference to `v8::Isolate::SetPromiseRejectCallback(void (*)(v8::PromiseRejectMessage))&apos; ./binding.cc:441: undefined reference to `v8::ObjectTemplate::New(v8::Isolate*, v8::Local&lt;v8::FunctionTemplate&gt;)&apos; ./binding.cc:442: undefined reference to `v8::ObjectTemplate::New(v8::Isolate*, v8::Local&lt;v8::FunctionTemplate&gt;)&apos; ./binding.cc:444: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:444: undefined reference to `v8::Template::Set(v8::Local&lt;v8::Name&gt;, v8::Local&lt;v8::Data&gt;, v8::PropertyAttribute)&apos; ./binding.cc:446: undefined reference to `v8::FunctionTemplate::New(v8::Isolate*, void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&amp;), v8::Local&lt;v8::Value&gt;, v8::Local&lt;v8::Signature&gt;, int, v8::ConstructorBehavior, v8::SideEffectType)&apos; ./binding.cc:446: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:446: undefined reference to `v8::Template::Set(v8::Local&lt;v8::Name&gt;, v8::Local&lt;v8::Data&gt;, v8::PropertyAttribute)&apos; ./binding.cc:449: undefined reference to `v8::FunctionTemplate::New(v8::Isolate*, void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&amp;), v8::Local&lt;v8::Value&gt;, v8::Local&lt;v8::Signature&gt;, int, v8::ConstructorBehavior, v8::SideEffectType)&apos; ./binding.cc:449: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:449: undefined reference to `v8::Template::Set(v8::Local&lt;v8::Name&gt;, v8::Local&lt;v8::Data&gt;, v8::PropertyAttribute)&apos; ./binding.cc:452: undefined reference to `v8::FunctionTemplate::New(v8::Isolate*, void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&amp;), v8::Local&lt;v8::Value&gt;, v8::Local&lt;v8::Signature&gt;, int, v8::ConstructorBehavior, v8::SideEffectType)&apos; ./binding.cc:452: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:452: undefined reference to `v8::Template::Set(v8::Local&lt;v8::Name&gt;, v8::Local&lt;v8::Data&gt;, v8::PropertyAttribute)&apos; ./binding.cc:455: undefined reference to `v8::Context::New(v8::Isolate*, v8::ExtensionConfiguration*, v8::MaybeLocal&lt;v8::ObjectTemplate&gt;, v8::MaybeLocal&lt;v8::Value&gt;, v8::DeserializeInternalFieldsCallback)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9717: undefined reference to `v8::V8::DisposeGlobal(v8::internal::Object**)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9670: undefined reference to `v8::V8::GlobalizeReference(v8::internal::Isolate*, v8::internal::Object**)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_new&apos;: ./binding.cc:457: undefined reference to `v8::Context::Enter()&apos; ./binding.cc:428: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7310: undefined reference to `v8::Isolate::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_new&apos;: ./binding.cc:426: undefined reference to `v8::Locker::~Locker()&apos; ./binding.cc:428: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7310: undefined reference to `v8::Isolate::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_new&apos;: ./binding.cc:426: undefined reference to `v8::Locker::~Locker()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_dispose&apos;: ./binding.cc:463: undefined reference to `v8::Isolate::Dispose()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9385: undefined reference to `v8::Locker::Initialize(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7307: undefined reference to `v8::Isolate::Enter()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:229: undefined reference to `v8::HandleScope::HandleScope(v8::Isolate*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9626: undefined reference to `v8::HandleScope::CreateHandle(v8::internal::Isolate*, v8::internal::Object*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9248: undefined reference to `v8::Context::Enter()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:234: undefined reference to `v8::TryCatch::TryCatch(v8::Isolate*)&apos; ./binding.cc:236: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:237: undefined reference to `v8::String::NewFromUtf8(v8::Isolate*, char const*, v8::String::NewStringType, int)&apos; ./binding.cc:239: undefined reference to `v8::Integer::New(v8::Isolate*, int)&apos; ./binding.cc:240: undefined reference to `v8::Integer::New(v8::Isolate*, int)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10018: undefined reference to `v8::Value::IsTrue() const&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10015: undefined reference to `v8::Value::IsTrue() const&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:254: undefined reference to `v8::ScriptCompiler::CompileModule(v8::Isolate*, v8::ScriptCompiler::Source*, v8::ScriptCompiler::CompileOptions, v8::ScriptCompiler::NoCacheReason)&apos; ./binding.cc:269: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; ./binding.cc:260: undefined reference to `v8::Module::GetModuleRequestsLength() const&apos; ./binding.cc:261: undefined reference to `v8::Module::GetModuleRequest(int) const&apos; ./binding.cc:262: undefined reference to `v8::String::Utf8Value::Utf8Value(v8::Local&lt;v8::Value&gt;)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: C:/ProgramData/chocolatey/lib/mingw/tools/install/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++/ext/new_allocator.h:86: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10061: undefined reference to `v8::ScriptCompiler::CachedData::~CachedData()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:234: undefined reference to `v8::TryCatch::~TryCatch()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9250: undefined reference to `v8::Context::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:229: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7310: undefined reference to `v8::Isolate::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:227: undefined reference to `v8::Locker::~Locker()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10017: undefined reference to `v8::Value::IsTrue() const&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10016: undefined reference to `v8::Value::IsTrue() const&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9636: undefined reference to `v8::V8::Eternalize(v8::Isolate*, v8::Value*)&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:288: undefined reference to `v8::Module::InstantiateModule(v8::Local&lt;v8::Context&gt;, v8::MaybeLocal&lt;v8::Module&gt; (*)(v8::Local&lt;v8::Context&gt;, v8::Local&lt;v8::String&gt;, v8::Local&lt;v8::Module&gt;))&apos; ./binding.cc:292: undefined reference to `v8::TryCatch::HasCaught() const&apos; ./binding.cc:293: undefined reference to `v8::TryCatch::HasCaught() const&apos; ./binding.cc:299: undefined reference to `v8::Module::Evaluate(v8::Local&lt;v8::Context&gt;)&apos; ./binding.cc:302: undefined reference to `v8::TryCatch::HasCaught() const&apos; ./binding.cc:255: undefined reference to `v8::TryCatch::HasCaught() const&apos; ./binding.cc:234: undefined reference to `v8::TryCatch::~TryCatch()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:9250: undefined reference to `v8::Context::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:229: undefined reference to `v8::HandleScope::~HandleScope()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:7310: undefined reference to `v8::Isolate::Exit()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o: In function `worker_load_module&apos;: ./binding.cc:227: undefined reference to `v8::Locker::~Locker()&apos; ./binding.cc:262: undefined reference to `v8::String::Utf8Value::~Utf8Value()&apos; C:\Users\andyrea\AppData\Local\Temp\go-build332228766\b055\_x003.o:C:\Users\andyrea\go\src\github.com\reaandrew\v8worker2/v8/include/v8.h:10061: undefined reference to ...</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h2><p><strong>===============&gt;&gt;#1 票数：2</strong></p>

出于安全原因 ，Go编译器有一个白名单参数可以出现在pkg-config文件中，并且拒绝使用未出现在列表中的参数。 一个白名单条目允许将链接程序直接指向静态库：它涵盖扩展名为.a文件，但不包括.lib 。 您可以尝试将[a-zA-Z0-9_/].*\\.lib CGO_LDFLAGS_ALLOW [a-zA-Z0-9_/].*\\.lib CGO_LDFLAGS_ALLOW环境变量中，以使其通过检查……但是我怀疑这可能还是行不通的。 .lib文件是由MSVC产生的，它们的格式与Unix ar格式不同（ .a文件的格式，也可能是Go编译器期望的格式）。 真正的解决方法是使V8与GCC而不是MSVC一起编译并生成适当的.a文件，但是V8并没有在Windows上正式支持它，并且使其正常工作显然需要更具侵入性的补丁。
**===============>>#2 票数：0**

调用pkg-config --libs时，还有哪些其他参数？ 另外，由于您使用的是Windows，因此您可能需要实际调用pkg-config.exe 。 有时有助于强制执行此操作的一种方法是在环境中进行设置：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PKG_CONFIG=$(which pkg-config.exe)</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../171/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../171/">171</a><span class="page-number current">172</span><a class="page-number" href="../173/">173</a><a class="extend next" rel="next" href="../173/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">开发者</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="http://code.newban.cn/archives/">
              
                  <span class="site-state-item-count">1724</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">开发者</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a rel="external nofollow" class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a rel="external nofollow" class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    
      <style>
        a.gitment-editor-footer-tip { display: none; }
        .gitment-container.gitment-footer-container { display: none; }
      </style>
    

    







  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
